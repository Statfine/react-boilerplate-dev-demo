/* eslint-disable */
module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=14)}([function(e,t,o){var n,r,i;r=[t,o(3),o(1),o(5),o(7),o(8),o(9),o(11),o(13)],void 0===(i="function"==typeof(n=function(e,t,o,n,r,i,a,s,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdateablesManager=void 0,e.compileShader=function(e,t,o){var n=e.createShader(o);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw"could not compile shader:"+e.getShaderInfoLog(n);return n},e.createShaderProgram=function(e,t,o){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,o),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw{error:4,msg:"Can't link shader program for track",toString:function(){return this.msg}};return n},e.createElementTexture=function(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),t},e.updateTexture=function(e,t,o){void 0!==o.readyState&&0===o.readyState||(e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),t._isTextureCleared=!1)},e.clearTexture=function(e,t){t._isTextureCleared||(e.bindTexture(e.TEXTURE_2D,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),t._isTextureCleared=!0)},e.generateRandomId=function(){function e(e){return e[Math.floor(Math.random()*e.length)]}var t,o=e(["adorable","alert","average","beautiful","blonde","bloody","blushing","bright","clean","clear","cloudy","colourful","concerned","crowded","curious","cute","dark","dirty","drab","distinct","dull","elegant","fancy","filthy","glamorous","gleaming","graceful","grotesque","homely","light","misty","motionless","muddy","plain","poised","quaint","scary","shiny","smoggy","sparkling","spotless","stormy","strange","ugly","unsightly","unusual"])+" "+e(["alive","brainy","broken","busy","careful","cautious","clever","crazy","damaged","dead","difficult","easy","fake","false","famous","forward","fragile","guilty","helpful","helpless","important","impossible","infamous","innocent","inquisitive","mad","modern","open","outgoing","outstanding","poor","powerful","puzzled","real","rich","right","robust","sane","scary","shy","sleepy","stupid","super","tame","thick","tired","wild","wrong"])+" "+e(["manatee","gila monster","nematode","seahorse","slug","koala bear","giant tortoise","garden snail","starfish","sloth","american woodcock","coral","swallowtail butterfly","house sparrow","sea anemone"]);return o=(t=o,o=t=t.replace(/\b\w/g,function(e){return e.toUpperCase()})).replace(/ /g,"-")},e.exportToJSON=function(e){return console.warn("VideoContext.exportToJSON has been deprecated. Please use VideoContext.snapshot instead."),JSON.stringify(v(e))},e.snapshot=function(e){return{nodes:v(e),videoContext:f(e)}},e.createControlFormForNode=function(e,t){var o=document.createElement("div");if(void 0!==t){var n=document.createElement("h2");n.innerHTML=t,o.appendChild(n)}var r=function(t){var n=document.createElement("p"),r=document.createElement("h3");r.innerHTML=t,n.appendChild(r);var i=e._properties[t].value;if("number"==typeof i){var s=document.createElement("input");s.setAttribute("type","range"),s.setAttribute("min","0"),s.setAttribute("max","1"),s.setAttribute("step","0.01"),s.setAttribute("value",i,toString());var u=document.createElement("input");u.setAttribute("type","number"),u.setAttribute("min","0"),u.setAttribute("max","1"),u.setAttribute("step","0.01"),u.setAttribute("value",i,toString());var l=!1;s.onmousedown=function(){l=!0},s.onmouseup=function(){l=!1},s.onmousemove=function(){l&&(e[t]=parseFloat(s.value),u.value=s.value)},s.onchange=function(){e[t]=parseFloat(s.value),u.value=s.value},u.onchange=function(){e[t]=parseFloat(u.value),s.value=u.value},n.appendChild(s),n.appendChild(u)}else if("[object Array]"===Object.prototype.toString.call(i)){var c=function(){var o=document.createElement("input");o.setAttribute("type","range"),o.setAttribute("min","0"),o.setAttribute("max","1"),o.setAttribute("step","0.01"),o.setAttribute("value",i[a],toString());var r=document.createElement("input");r.setAttribute("type","number"),r.setAttribute("min","0"),r.setAttribute("max","1"),r.setAttribute("step","0.01"),r.setAttribute("value",i,toString());var s=a,u=!1;o.onmousedown=function(){u=!0},o.onmouseup=function(){u=!1},o.onmousemove=function(){u&&(e[t][s]=parseFloat(o.value),r.value=o.value)},o.onchange=function(){e[t][s]=parseFloat(o.value),r.value=o.value},r.onchange=function(){e[t][s]=parseFloat(r.value),o.value=r.value},n.appendChild(o),n.appendChild(r)};for(a=0;a<i.length;a++)c()}o.appendChild(n)};for(var i in e._properties){var a;r(i)}return o},e.visualiseVideoContextGraph=function(e,t){var o=t.getContext("2d"),s=t.width,l=t.height;o.clearRect(0,0,s,l);var c=function(e){var t=e.destination,o=new Map;return o.set(t,0),function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!0,i=!1,a=void 0;try{for(var s,u=t.inputs[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value,c=n+1;o.has(l)?c>o.get(l)&&o.set(l,c):o.set(l,c),e(l,o.get(l))}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}}(t),o}(e),p=c.values(),f=(p=Array.from(p).sort(function(e,t){return t-e}))[0],d=s/(f+1),v=l/e._sourceNodes.length/3,_=1.618*v;function m(e,t,o,n){var r=t.get(e);t.values();var i=0,a=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;if(p[0]===e)break;p[1]===r&&(i+=1)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return{x:o*t.get(e),y:1.5*n*i+50}}for(var h=0;h<e._renderGraph.connections.length;h++){var y=e._renderGraph.connections[h],g=m(y.source,c,d,v),x=m(y.destination,c,d,v);if(void 0!==g&&void 0!==x){o.beginPath();var b=g.x+_/2,C=g.y+v/2,T=x.x+_/2,E=x.y+v/2,S=T-b,O=E-C,A=Math.PI/2-Math.atan2(S,O),P=Math.sqrt(Math.pow(b-T,2)+Math.pow(C-E,2)),w=Math.min(b,T)+(Math.max(b,T)-Math.min(b,T))/2,D=Math.min(C,E)+(Math.max(C,E)-Math.min(C,E))/2,k=Math.cos(A+Math.PI/2)*P/1.5+w,F=Math.sin(A+Math.PI/2)*P/1.5+D;o.arc(k,F,P/1.2,A-Math.PI+.95,A-.95),o.stroke()}}var N=!0,R=!1,M=void 0;try{for(var I,U=c.keys()[Symbol.iterator]();!(N=(I=U.next()).done);N=!0){var j=I.value,L=m(j,c,d,v),G="#AA9639",z="";j.displayName===u.COMPOSITINGTYPE&&(G="#000000"),j.displayName===a.DESTINATIONTYPE&&(G="#7D9F35",z="Output"),j.displayName===n.VIDEOTYPE&&(G="#572A72",z="Video"),j.displayName===r.CANVASTYPE&&(G="#572A72",z="Canvas"),j.displayName===i.IMAGETYPE&&(G="#572A72",z="Image"),o.beginPath(),o.fillStyle=G,o.fillRect(L.x,L.y,_,v),o.fill(),o.fillStyle="#000",o.textAlign="center",o.font="10px Arial",o.fillText(z,L.x+_/2,L.y+v/2+2.5),o.fill()}}catch(e){R=!0,M=e}finally{try{!N&&U.return&&U.return()}finally{if(R)throw M}}},e.createSigmaGraphDataFromRenderGraph=function(e){function t(t){if(-1!==e._sourceNodes.indexOf(t)){var o="source "+t.displayName+" "+e._sourceNodes.indexOf(t);return o}var n="processor "+t.displayName+" "+e._processingNodes.indexOf(t);return n}for(var o={nodes:[{id:t(e.destination),label:"Destination Node",x:2.5,y:.5,size:2,node:e.destination}],edges:[]},n=0;n<e._sourceNodes.length;n++){var r=e._sourceNodes[n],i=n*(1/e._sourceNodes.length);o.nodes.push({id:t(r),label:"Source "+n.toString(),x:0,y:i,size:2,color:"#572A72",node:r})}for(var a=0;a<e._processingNodes.length;a++){var s=e._processingNodes[a];o.nodes.push({id:t(s),x:2.5*Math.random(),y:Math.random(),size:2,node:s})}for(var u=0;u<e._renderGraph.connections.length;u++){var l=e._renderGraph.connections[u];o.edges.push({id:"e"+u.toString(),source:t(l.source),target:t(l.destination)})}return o},e.importSimpleEDL=function(e,t){var o=e.compositor(c.default.COMBINE),n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,l=void 0;if("video"===u.type)l=e.video(u.src,u.sourceStart);else{if("image"!==u.type){console.debug("Clip type "+u.type+" not recognised, skipping.");continue}l=e.image(u.src,u.sourceStart)}l.startAt(u.start),l.stopAt(u.start+u.duration),l.connect(o)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o},e.visualiseVideoContextTimeline=function(e,t,o){var n=t.getContext("2d"),r=t.width,i=t.height,a=i/e._sourceNodes.length,u=e.duration;if(o>u&&!e.endOnLastSourceEnd&&(u=o),e.duration===1/0){for(var l=0,c=0;c<e._sourceNodes.length;c++){var p=e._sourceNodes[c];p._stopTime!==1/0&&(l+=p._stopTime)}u=l>e.currentTime?l+5:e.currentTime+5}var f=r/u,d={video:["#572A72","#3C1255"],image:["#7D9F35","#577714"],canvas:["#AA9639","#806D15"]};n.clearRect(0,0,r,i),n.fillStyle="#999";var v=!0,_=!1,m=void 0;try{for(var h,y=e._processingNodes[Symbol.iterator]();!(v=(h=y.next()).done);v=!0){var g=h.value;if(g.displayName===s.TRANSITIONTYPE)for(var x in g._transitions){var b=!0,C=!1,T=void 0;try{for(var E,S=g._transitions[x][Symbol.iterator]();!(b=(E=S.next()).done);b=!0){var O=E.value,A=(O.end-O.start)*f,P=i,w=O.start*f;n.fillStyle="rgba(0,0,0, 0.3)",n.fillRect(w,0,A,P),n.fill()}}catch(e){C=!0,T=e}finally{try{!b&&S.return&&S.return()}finally{if(C)throw T}}}}}catch(e){_=!0,m=e}finally{try{!v&&y.return&&y.return()}finally{if(_)throw m}}for(var D=0;D<e._sourceNodes.length;D++){var k=e._sourceNodes[D],F=k._stopTime-k._startTime;F===1/0&&(F=e.currentTime);var N=k._startTime,R=F*f,M=a,I=N*f,U=a*D;n.fillStyle=d.video[D%d.video.length],n.fillRect(I,U,R,M),n.fill()}void 0!==o&&(n.fillStyle="#000",n.fillRect(o*f,0,1,i))},e.mediaElementHasSource=function(e){var t=e.src,o=e.srcObject;return!((""===t||void 0===t)&&null==o)},e.addPadding=function(e,t,o){if(Math.abs(o.ow/o.oh-o.vw/o.vh)<.01)return t;var n=e.effect(c.default.GLASSBLUR);n.u_direction=[5/o.ow,0],t.connect(n);var r=e.effect(c.default.GLASSBLUR);r.u_direction=[0,5/o.oh],n.connect(r);var i=e.effect(c.default.GLASSFILL),a=i.calPadding(o.ow,o.oh,o.vw,o.vh);return i.u_fx=a.u_fx,i.u_fy=a.u_fy,t.connect(i),r.connect(i),i};var l,c=(l=t)&&l.__esModule?l:{default:l},p=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function f(e){return{currentTime:e.currentTime,duration:e.duration,state:e.state,playbackRate:e.playbackRate}}var d=!1;function v(e){function t(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=e.inputs[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(void 0!==u){var l=void 0,c=e.inputs.indexOf(u),p=t._processingNodes.indexOf(u);if(p>-1)l="processor"+p;else{var f=t._sourceNodes.indexOf(u);f>-1?l="source"+f:console.log("Warning, can't find input",u)}o.push({id:l,index:c})}}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}var r,i,a={},u=[];for(var l in o.SOURCENODESTATE)u[o.SOURCENODESTATE[l]]=l;for(var c in e._sourceNodes){var p=e._sourceNodes[c],f="source"+c,v="";p._isResponsibleForElementLifeCycle?(r=p._elementURL,i=void 0,(i=document.createElement("a")).href=r,v=i.href):(d||(console.debug("Warning - Trying to export source created from an element not a URL. URL of export will be set to the elements src attribute and may be incorrect",p),d=!0),v=p.element.src);var _={type:p.displayName,url:v,start:p.startTime,stop:p.stopTime,state:u[p.state]};_.type===n.VIDEOTYPE&&(_.currentTime=null,p.element&&p.element.currentTime&&(_.currentTime=p.element.currentTime)),p._sourceOffset&&(_.sourceOffset=p._sourceOffset),a[f]=_}for(var m in e._processingNodes){var h=e._processingNodes[m],y="processor"+m,g={type:h.displayName,definition:h._definition,inputs:t(h,e),properties:{}};for(var x in g.definition.properties)g.properties[x]=h[x];g.type===s.TRANSITIONTYPE&&(g.transitions=h._transitions),a[y]=g}return a.destination={type:"Destination",inputs:t(e.destination,e)},a}e.UpdateablesManager=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._updateables=[],this._useWebworker=!1,this._active=!1,this._previousRAFTime=void 0,this._previousWorkerTime=void 0,this._webWorkerString="            var running = false;            function tick(){                postMessage(Date.now());                if (running){                    setTimeout(tick, 1000/20);                }            }            self.addEventListener('message',function(msg){                var data = msg.data;                if (data === 'start'){                    running = true;                    tick();                }                if (data === 'stop') running = false;            });",this._webWorker=void 0}return p(e,[{key:"_initWebWorker",value:function(){var e=this;window.URL=window.URL||window.webkitURL;var t=new Blob([this._webWorkerString],{type:"application/javascript"});this._webWorker=new Worker(URL.createObjectURL(t)),this._webWorker.onmessage=function(t){var o=t.data;e._updateWorkerTime(o)}}},{key:"_lostVisibility",value:function(){this._previousWorkerTime=Date.now(),this._useWebworker=!0,this._webWorker||this._initWebWorker(),this._webWorker.postMessage("start")}},{key:"_gainedVisibility",value:function(){this._useWebworker=!1,this._previousRAFTime=void 0,this._webWorker&&this._webWorker.postMessage("stop"),requestAnimationFrame(this._updateRAFTime.bind(this))}},{key:"_init",value:function(){var e=this;if(window.Worker){if(void 0===document.hidden)return window.addEventListener("focus",this._gainedVisibility.bind(this)),void window.addEventListener("blur",this._lostVisibility.bind(this));document.addEventListener("visibilitychange",function(){!0===document.hidden?e._lostVisibility():e._gainedVisibility()},!1),requestAnimationFrame(this._updateRAFTime.bind(this))}}},{key:"_updateWorkerTime",value:function(e){var t=(e-this._previousWorkerTime)/1e3;0!==t&&this._update(t),this._previousWorkerTime=e}},{key:"_updateRAFTime",value:function(e){void 0===this._previousRAFTime&&(this._previousRAFTime=e);var t=(e-this._previousRAFTime)/1e3;0!==t&&this._update(t),this._previousRAFTime=e,this._useWebworker||requestAnimationFrame(this._updateRAFTime.bind(this))}},{key:"_update",value:function(e){for(var t=0;t<this._updateables.length;t++)this._updateables[t]._update(parseFloat(e))}},{key:"register",value:function(e){this._updateables.push(e),!1===this._active&&(this._active=!0,this._init())}}]),e}()})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(0),o(4)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SOURCETYPE=e.SOURCENODESTATE=void 0;var n,r=(n=o)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a={waiting:0,sequenced:1,playing:2,paused:3,ended:4,error:5},s="SourceNode",u=function(e){function o(e,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r,[],!0));return u._element=void 0,u._elementURL=void 0,u._isResponsibleForElementLifeCycle=!0,"string"==typeof e||void 0!==window.MediaStream&&e instanceof MediaStream?u._elementURL=e:(u._element=e,u._isResponsibleForElementLifeCycle=!1),u._state=a.waiting,u._currentTime=i,u._startTime=NaN,u._stopTime=1/0,u._ready=!1,u._loadCalled=!1,u._stretchPaused=!1,u._texture=(0,t.createElementTexture)(n),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),u._callbacks=[],u._renderPaused=!1,u._displayName=s,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),i(o,[{key:"_load",value:function(){this._loadCalled||(this._triggerCallbacks("load"),this._loadCalled=!0)}},{key:"_unload",value:function(){this._triggerCallbacks("destroy"),this._loadCalled=!1}},{key:"registerCallback",value:function(e,t){this._callbacks.push({type:e,func:t})}},{key:"unregisterCallback",value:function(e){var t=[],o=!0,n=!1,r=void 0;try{for(var i,a=this._callbacks[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;void 0===e?t.push(s):s.func===e&&t.push(s)}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}var u=!0,l=!1,c=void 0;try{for(var p,f=t[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value,v=this._callbacks.indexOf(d);this._callbacks.splice(v,1)}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"_triggerCallbacks",value:function(e,t){var o=!0,n=!1,r=void 0;try{for(var i,a=this._callbacks[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;s.type===e&&(void 0!==t?s.func(this,t):s.func(this))}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"start",value:function(e){return this._state!==a.waiting?(console.debug("SourceNode is has already been sequenced. Can't sequence twice."),!1):(this._startTime=this._currentTime+e,this._state=a.sequenced,!0)}},{key:"startAt",value:function(e){return this._state!==a.waiting?(console.debug("SourceNode is has already been sequenced. Can't sequence twice."),!1):(this._startTime=e,this._state=a.sequenced,!0)}},{key:"stop",value:function(e){return this._state===a.ended?(console.debug("SourceNode has already ended. Cannot call stop."),!1):this._state===a.waiting?(console.debug("SourceNode must have start called before stop is called"),!1):this._currentTime+e<=this._startTime?(console.debug("SourceNode must have a stop time after it's start time, not before."),!1):(this._stopTime=this._currentTime+e,this._stretchPaused=!1,this._triggerCallbacks("durationchange",this.duration),!0)}},{key:"stopAt",value:function(e){return this._state===a.ended?(console.debug("SourceNode has already ended. Cannot call stop."),!1):this._state===a.waiting?(console.debug("SourceNode must have start called before stop is called"),!1):e<=this._startTime?(console.debug("SourceNode must have a stop time after it's start time, not before."),!1):(this._stopTime=e,this._stretchPaused=!1,this._triggerCallbacks("durationchange",this.duration),!0)}},{key:"_seek",value:function(e){this._renderPaused=!1,this._triggerCallbacks("seek",e),this._state!==a.waiting&&(e<this._startTime&&((0,t.clearTexture)(this._gl,this._texture),this._state=a.sequenced),e>=this._startTime&&this._state!==a.paused&&(this._state=a.playing),e>=this._stopTime&&((0,t.clearTexture)(this._gl,this._texture),this._triggerCallbacks("ended"),this._state=a.ended),this._currentTime=e)}},{key:"_pause",value:function(){(this._state===a.playing||0===this._currentTime&&0===this._startTime)&&(this._triggerCallbacks("pause"),this._state=a.paused,this._renderPaused=!1)}},{key:"_play",value:function(){this._state===a.paused&&(this._triggerCallbacks("play"),this._state=a.playing)}},{key:"_isReady",value:function(){return!this._buffering&&(this._state!==a.playing&&this._state!==a.paused&&this._state!==a.error||this._ready)}},{key:"_update",value:function(e){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._rendered=!0;var n=e-this._currentTime;return this._currentTime=e,this._state!==a.waiting&&this._state!==a.ended&&this._state!==a.error&&(this._triggerCallbacks("render",e),e<this._startTime&&((0,t.clearTexture)(this._gl,this._texture),this._state=a.sequenced),e>=this._startTime&&this._state!==a.paused&&this._state!==a.error&&(this._state!==a.playing&&this._triggerCallbacks("play"),this._state=a.playing),e>=this._stopTime&&((0,t.clearTexture)(this._gl,this._texture),this._triggerCallbacks("ended"),this._state=a.ended),void 0===this._element||!1===this._ready||(this._renderPaused||this._state!==a.paused||(o&&(0,t.updateTexture)(this._gl,this._texture,this._element),this._renderPaused=!0),this._state===a.playing&&(o&&(0,t.updateTexture)(this._gl,this._texture,this._element),this._stretchPaused&&(this._stopTime+=n)),!0))}},{key:"clearTimelineState",value:function(){this._startTime=NaN,this._stopTime=1/0,this._state=a.waiting}},{key:"destroy",value:function(){this._unload(),function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"destroy",this).call(this),this.unregisterCallback(),delete this._element,this._elementURL=void 0,this._state=a.waiting,this._currentTime=0,this._startTime=NaN,this._stopTime=1/0,this._ready=!1,this._loadCalled=!1,this._gl.deleteTexture(this._texture),this._texture=void 0}},{key:"state",get:function(){return this._state}},{key:"element",get:function(){return this._element}},{key:"duration",get:function(){if(!isNaN(this._startTime))return this._stopTime===1/0?1/0:this._stopTime-this._startTime}},{key:"stretchPaused",set:function(e){this._stretchPaused=e},get:function(){return this._stretchPaused}},{key:"startTime",get:function(){return this._startTime}},{key:"stopTime",get:function(){return this._stopTime}}]),o}(r.default);e.SOURCENODESTATE=a,e.SOURCETYPE=s,e.default=u})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(4),o(0),o(10)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROCESSINGTYPE=void 0;var r,i=(r=t)&&r.__esModule?r:{default:r},a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s="ProcessingNode",u=function(e){function t(e,r,i,a,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l,c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,a,u));for(var p in c._vertexShader=(0,o.compileShader)(e,i.vertexShader,e.VERTEX_SHADER),c._fragmentShader=(0,o.compileShader)(e,i.fragmentShader,e.FRAGMENT_SHADER),c._definition=i,c._properties={},i.properties)if((l=i.properties[p])&&"[object Function]"==={}.toString.call(l))c[p]=i.properties[p];else{var f=i.properties[p].value;"[object Array]"===Object.prototype.toString.call(f)&&(f=i.properties[p].value.slice());var d=i.properties[p].type;c._properties[p]={type:d,value:f}}c._shaderInputsTextureUnitMapping=[],c._maxTextureUnits=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c._boundTextureUnits=0,c._texture=(0,o.createElementTexture)(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.canvas.width,e.canvas.height,0,e.RGBA,e.UNSIGNED_BYTE,null),c._program=(0,o.createShaderProgram)(e,c._vertexShader,c._fragmentShader),c._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,c._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,c._texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null);var v=function(e){Object.defineProperty(c,e,{get:function(){return this._properties[e].value},set:function(t){this._properties[e].value=t}})};for(var _ in c._properties)v(_);for(var m in c._properties){var h=c._properties[m].value;if(h instanceof Image&&(c._properties[m].texture=(0,o.createElementTexture)(e),c._properties[m].textureUnit=e.TEXTURE0+c._boundTextureUnits,c._properties[m].textureUnitIndex=c._boundTextureUnits,c._boundTextureUnits+=1,c._boundTextureUnits>c._maxTextureUnits))throw new n.RenderException("Trying to bind more than available textures units to shader")}var y=!0,g=!1,x=void 0;try{for(var b,C=i.inputs[Symbol.iterator]();!(y=(b=C.next()).done);y=!0){var T=b.value;if(c._shaderInputsTextureUnitMapping.push({name:T,textureUnit:e.TEXTURE0+c._boundTextureUnits,textureUnitIndex:c._boundTextureUnits,location:e.getUniformLocation(c._program,T)}),c._boundTextureUnits+=1,c._boundTextureUnits>c._maxTextureUnits)throw new n.RenderException("Trying to bind more than available textures units to shader")}}catch(e){g=!0,x=e}finally{try{!y&&C.return&&C.return()}finally{if(g)throw x}}for(var E in c._properties)"uniform"===c._properties[E].type&&(c._properties[E].location=c._gl.getUniformLocation(c._program,E));c._currentTimeLocation=c._gl.getUniformLocation(c._program,"currentTime"),c._currentTime=0;var S=e.getAttribLocation(c._program,"a_position"),O=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,O),e.enableVertexAttribArray(S),e.vertexAttribPointer(S,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,1,0,0,1,0,0]),e.STATIC_DRAW);var A=e.getAttribLocation(c._program,"a_texCoord");return e.enableVertexAttribArray(A),e.vertexAttribPointer(A,2,e.FLOAT,!1,0,0),c._displayName=s,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"setProperty",value:function(e,t){this._properties[e].value=t}},{key:"getProperty",value:function(e){return this._properties[e].value}},{key:"destroy",value:function(){for(var e in function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._properties){var o=this._properties[e].value;o instanceof Image&&(this._gl.deleteTexture(this._properties[e].texture),this._texture=void 0)}this._gl.deleteTexture(this._texture),this._texture=void 0,this._gl.detachShader(this._program,this._vertexShader),this._gl.detachShader(this._program,this._fragmentShader),this._gl.deleteShader(this._vertexShader),this._gl.deleteShader(this._fragmentShader),this._gl.deleteProgram(this._program),this._gl.deleteFramebuffer(this._framebuffer)}},{key:"_update",value:function(e){this._currentTime=e}},{key:"_seek",value:function(e){this._currentTime=e}},{key:"_render",value:function(){this._rendered=!0;var e=this._gl;for(var t in e.viewport(0,0,e.canvas.width,e.canvas.height),e.useProgram(this._program),e.uniform1f(this._currentTimeLocation,parseFloat(this._currentTime)),this._properties){var n=this._properties[t].value,r=this._properties[t].type,i=this._properties[t].location;if("uniform"===r)if("number"==typeof n)e.uniform1f(i,n);else if("[object Array]"===Object.prototype.toString.call(n))1===n.length?e.uniform1fv(i,n):2===n.length?e.uniform2fv(i,n):3===n.length?e.uniform3fv(i,n):4===n.length?e.uniform4fv(i,n):console.debug("Shader parameter",t,"is too long an array:",n);else if(n instanceof Image){var a=this._properties[t].texture,s=this._properties[t].textureUnit,u=this._properties[t].textureUnit;(0,o.updateTexture)(e,a,n),e.activeTexture(s),e.uniform1i(i,u),e.bindTexture(e.TEXTURE_2D,a)}}}}]),t}(i.default);e.PROCESSINGTYPE=s,e.default=u})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(15),o(18),o(21),o(24),o(27),o(30),o(33),o(36),o(39),o(42),o(45),o(48),o(51),o(54),o(57),o(60),o(63),o(66),o(69),o(72),o(75),o(78),o(81),o(84),o(87),o(90),o(93),o(96),o(99),o(102),o(105),o(108),o(111),o(114),o(117),o(120),o(123),o(126),o(129),o(132),o(135),o(138),o(141),o(144),o(147)],void 0===(i="function"==typeof(n=function(e,t,o,n,r,i,a,s,u,l,c,p,f,d,v,_,m,h,y,g,x,b,C,T,E,S,O,A,P,w,D,k,F,N,R,M,I,U,j,L,G,z,q,B,V,Y,W){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var X=je(o),H=je(n),Z=je(r),K=je(i),J=je(a),Q=je(s),$=je(u),ee=je(l),te=je(c),oe=je(p),ne=je(f),re=je(d),ie=je(v),ae=je(_),se=je(m),ue=je(h),le=je(y),ce=je(g),pe=je(x),fe=je(b),de=je(C),ve=je(T),_e=je(E),me=je(S),he=je(O),ye=je(A),ge=je(P),xe=je(w),be=je(D),Ce=je(k),Te=je(F),Ee=je(N),Se=je(R),Oe=je(M),Ae=je(I),Pe=je(U),we=je(j),De=je(L),ke=je(G),Fe=je(z),Ne=je(q),Re=je(B),Me=je(V),Ie=je(Y),Ue=je(W);function je(e){return e&&e.__esModule?e:{default:e}}var Le={AAF_VIDEO_SCALE:X.default,CROSSFADE:H.default,DREAMFADE:fe.default,HORIZONTAL_WIPE:K.default,VERTICAL_WIPE:J.default,RANDOM_DISSOLVE:Q.default,STATIC_DISSOLVE:ce.default,STATIC_EFFECT:pe.default,TO_COLOR_AND_BACK:$.default,STAR_WIPE:ee.default,COMBINE:te.default,COLORTHRESHOLD:oe.default,MONOCHROME:ne.default,HORIZONTAL_BLUR:re.default,VERTICAL_BLUR:ie.default,AAF_VIDEO_CROP:le.default,AAF_VIDEO_POSITION:ue.default,AAF_VIDEO_FLIP:se.default,AAF_VIDEO_FLOP:ae.default,OPACITY:de.default,CROP:ve.default,LOOKUP:me.default,GLASSBLUR:he.default,GLASSFILL:ye.default,CUBE:Z.default,DISSOLVE:_e.default,INVERTEDPAGECURL:ge.default,LUMINANCEMELT:xe.default,DREAMYZOOM:be.default,LINEARBLUR:Ce.default,FADE:Te.default,PIXELIZE:Ee.default,FADECOLOR:Se.default,SQUARESWIRE:Oe.default,BURN:Ae.default,CROSSZOOM:Pe.default,CROSSWARP:we.default,GLITCHMEMORIES:De.default,WINDOWBLINDS:ke.default,WINDOWSLICE:Fe.default,FADEGRAYSCALE:Ne.default,SLIDE:Re.default,WIND:Me.default,COLORPHASE:Ie.default,STEREOVIEWER:Ue.default};t.default=Le,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),o="GraphNode",n=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderGraph=n,this._limitConnections=i,this._inputNames=r,this._destroyed=!1,this._gl=t,this._renderGraph=n,this._rendered=!1,this._displayName=o}return t(e,[{key:"connect",value:function(e,t){return this._renderGraph.registerConnection(this,e,t)}},{key:"disconnect",value:function(e){var t=this;if(void 0===e){var o=this._renderGraph.getOutputsForNode(this);return o.forEach(function(e){return t._renderGraph.unregisterConnection(t,e)}),o.length>0}return this._renderGraph.unregisterConnection(this,e)}},{key:"destroy",value:function(){this.disconnect();var e=!0,t=!1,o=void 0;try{for(var n,r=this.inputs[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var i=n.value;i.disconnect(this)}}catch(e){t=!0,o=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw o}}this._destroyed=!0}},{key:"displayName",get:function(){return this._displayName}},{key:"inputNames",get:function(){return this._inputNames.slice()}},{key:"maximumConnections",get:function(){return!1===this._limitConnections?1/0:this._inputNames.length}},{key:"inputs",get:function(){var e=this._renderGraph.getInputsForNode(this);return e=e.filter(function(e){return void 0!==e})}},{key:"outputs",get:function(){return this._renderGraph.getOutputsForNode(this)}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();e.GRAPHTYPE=o,e.default=n})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(6)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEOTYPE=void 0;var o,n=(o=t)&&o.__esModule?o:{default:o},r="VideoNode",i=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._displayName=r,e._elementType="video",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default);e.VIDEOTYPE=r,e.default=i})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(1)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=o)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},s=function(e){function t(e,o,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n,r));return c._preloadTime=s,c._sourceOffset=a,c._globalPlaybackRate=i,c._mediaElementCache=u,c._playbackRate=1,c._playbackRateUpdated=!0,c._attributes=Object.assign({volume:1},l),c._loopElement=!1,c._isElementPlaying=!1,c._attributes.loop&&(c._loopElement=c._attributes.loop),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_triggerLoad",value:function(){var e=this;if(this._isResponsibleForElementLifeCycle&&(this._mediaElementCache?this._element=this._mediaElementCache.get():(this._element=document.createElement(this._elementType),this._element.setAttribute("crossorigin","anonymous"),this._element.setAttribute("webkit-playsinline",""),this._element.setAttribute("playsinline",""),this._playbackRateUpdated=!0),this._element.volume=this._attributes.volume,void 0!==window.MediaStream&&this._elementURL instanceof MediaStream?this._element.srcObject=this._elementURL:this._element.src=this._elementURL),this._element){for(var t in this._attributes)this._element[t]=this._attributes[t];var n=0;this._currentTime>this._startTime&&(n=this._currentTime-this._startTime),this._element.currentTime=this._sourceOffset+n,this._element.onerror=function(){void 0!==e._element&&(console.debug("Error with element",e._element),e._state=o.SOURCENODESTATE.error,e._ready=!0,e._triggerCallbacks("error"))}}else this._state=o.SOURCENODESTATE.error,this._ready=!0,this._triggerCallbacks("error");this._loadTriggered=!0}},{key:"_load",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_load",this).call(this),this._loadTriggered||this._triggerLoad();var e=void 0!==this._element;e&&(this._element.readyState>3&&!this._element.seeking?(!1===this._loopElement&&(this._stopTime!==1/0&&null!=this._stopTime||(this._stopTime=this._startTime+this._element.duration,this._triggerCallbacks("durationchange",this.duration))),!0!==this._ready&&(this._triggerCallbacks("loaded"),this._playbackRateUpdated=!0),this._ready=!0):this._state!==o.SOURCENODESTATE.error&&(this._ready=!1))}},{key:"_unload",value:function(){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_unload",this).call(this),this._isResponsibleForElementLifeCycle&&void 0!==this._element){for(var e in this._element.removeAttribute("src"),this._element.srcObject=void 0,this._element.load(),this._attributes)this._element.removeAttribute(e);this._element=void 0,this._mediaElementCache||delete this._element}this._ready=!1,this._isElementPlaying=!1,this._loadTriggered=!1}},{key:"_seek",value:function(e){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_seek",this).call(this,e),this.state===o.SOURCENODESTATE.playing||this.state===o.SOURCENODESTATE.paused){void 0===this._element&&this._load();var n=this._currentTime-this._startTime+this._sourceOffset;this._element.currentTime=n,this._ready=!1}this._state!==o.SOURCENODESTATE.sequenced&&this._state!==o.SOURCENODESTATE.ended||void 0===this._element||this._unload()}},{key:"_update",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_update",this).call(this,e,n),void 0!==this._element&&this._element.ended&&(this._state=o.SOURCENODESTATE.ended,this._triggerCallbacks("ended")),this._startTime-this._currentTime<=this._preloadTime&&this._state!==o.SOURCENODESTATE.waiting&&this._state!==o.SOURCENODESTATE.ended&&this._load(),this._state===o.SOURCENODESTATE.playing?(this._playbackRateUpdated&&(this._element.playbackRate=this._globalPlaybackRate*this._playbackRate,this._playbackRateUpdated=!1),this._isElementPlaying||(this._element.play(),this._stretchPaused&&this._element.pause(),this._isElementPlaying=!0),!0):this._state===o.SOURCENODESTATE.paused?(this._element.pause(),this._isElementPlaying=!1,!0):this._state===o.SOURCENODESTATE.ended&&void 0!==this._element?(this._element.pause(),this._isElementPlaying&&this._unload(),!1):void 0}},{key:"clearTimelineState",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clearTimelineState",this).call(this),void 0!==this._element&&(this._element.pause(),this._isElementPlaying=!1),this._unload()}},{key:"destroy",value:function(){this._element&&this._element.pause(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"playbackRate",set:function(e){this._playbackRate=e,this._playbackRateUpdated=!0},get:function(){return this._playbackRate}},{key:"stretchPaused",set:function(e){!function e(t,o,n,r){var i=Object.getOwnPropertyDescriptor(t,o);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,o,n,r)}else if("value"in i&&i.writable)i.value=n;else{var s=i.set;void 0!==s&&s.call(r,n)}return n}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"stretchPaused",e,this),this._element&&(this._stretchPaused?this._element.pause():this._state===o.SOURCENODESTATE.playing&&this._element.play())},get:function(){return this._stretchPaused}},{key:"elementURL",get:function(){return this._elementURL}},{key:"_buffering",get:function(){return!!this._element&&this._element.readyState<HTMLMediaElement.HAVE_FUTURE_DATA}},{key:"volume",set:function(e){this._attributes.volume=e,void 0!==this._element&&(this._element.volume=this._attributes.volume)}}]),t}(r.default);t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(1)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CANVASTYPE=void 0;var o,n=(o=t)&&o.__esModule?o:{default:o},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},a="CanvasNode",s=function(e){function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r));return s._preloadTime=i,s._displayName=a,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"_load",value:function(){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_load",this).call(this),this._ready=!0,this._triggerCallbacks("loaded")}},{key:"_unload",value:function(){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_unload",this).call(this),this._ready=!1}},{key:"_seek",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_seek",this).call(this,e),this.state!==t.SOURCENODESTATE.playing&&this.state!==t.SOURCENODESTATE.paused||(void 0===this._element&&this._load(),this._ready=!1),this._state!==t.SOURCENODESTATE.sequenced&&this._state!==t.SOURCENODESTATE.ended||void 0===this._element||this._unload()}},{key:"_update",value:function(e){return i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_update",this).call(this,e),this._startTime-this._currentTime<=this._preloadTime&&this._state!==t.SOURCENODESTATE.waiting&&this._state!==t.SOURCENODESTATE.ended&&this._load(),this._state===t.SOURCENODESTATE.playing||this._state===t.SOURCENODESTATE.paused||(this._state===t.SOURCENODESTATE.ended&&void 0!==this._element?(this._unload(),!1):void 0)}}]),o}(n.default);e.CANVASTYPE=a,e.default=s})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(1)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMAGETYPE=void 0;var o,n=(o=t)&&o.__esModule?o:{default:o},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},a="CanvasNode",s=function(e){function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t,n,r));return u._preloadTime=i,u._attributes=s,u._textureUploaded=!1,u._displayName=a,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),r(o,[{key:"_load",value:function(){var e=this;if(void 0===this._image){if(this._isResponsibleForElementLifeCycle)for(var n in i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_load",this).call(this),this._image=new Image,this._image.setAttribute("crossorigin","anonymous"),this._image.onload=function(){e._ready=!0,window.createImageBitmap?window.createImageBitmap(e._image,{imageOrientation:"flipY"}).then(function(t){e._element=t,e._triggerCallbacks("loaded")}):(e._element=e._image,e._triggerCallbacks("loaded"))},this._image.src=this._elementURL,this._image.onerror=function(){console.error("ImageNode failed to load. url:",e._elementURL)},this._attributes)this._image[n]=this._attributes[n];this._image.onerror=function(){console.debug("Error with element",e._image),e._state=t.SOURCENODESTATE.error,e._ready=!0,e._triggerCallbacks("error")}}else for(var r in this._attributes)this._image[r]=this._attributes[r]}},{key:"_unload",value:function(){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_unload",this).call(this),this._isResponsibleForElementLifeCycle&&(void 0!==this._image&&(this._image.src="",this._image.onerror=void 0,this._image=void 0,delete this._image),this._element instanceof window.ImageBitmap&&this._element.close()),this._ready=!1}},{key:"_seek",value:function(e){i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_seek",this).call(this,e),this.state!==t.SOURCENODESTATE.playing&&this.state!==t.SOURCENODESTATE.paused||void 0===this._image&&this._load(),this._state!==t.SOURCENODESTATE.sequenced&&this._state!==t.SOURCENODESTATE.ended||void 0===this._element||this._unload()}},{key:"_update",value:function(e){return this._textureUploaded?i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_update",this).call(this,e,!1):i(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"_update",this).call(this,e),this._startTime-this._currentTime<=this._preloadTime&&this._state!==t.SOURCENODESTATE.waiting&&this._state!==t.SOURCENODESTATE.ended&&this._load(),this._state===t.SOURCENODESTATE.playing||this._state===t.SOURCENODESTATE.paused||(this._state===t.SOURCENODESTATE.ended&&void 0!==this._image?(this._unload(),!1):void 0)}},{key:"elementURL",get:function(){return this._elementURL}}]),o}(n.default);e.IMAGETYPE=a,e.default=s})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(2),o(150),o(151)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DESTINATIONTYPE=void 0;var r=s(t),i=s(o),a=s(n);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l="DestinationNode",c=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n={fragmentShader:i.default,vertexShader:a.default,properties:{},inputs:["u_image"]},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n,n.inputs,!1));return r._displayName=l,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"_render",value:function(){var e=this,o=this._gl;o.bindFramebuffer(o.FRAMEBUFFER,null),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.enable(o.BLEND),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),this.inputs.forEach(function(n){(function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_render",e).call(e);var r=n._texture,i=!0,a=!1,s=void 0;try{for(var u,l=e._shaderInputsTextureUnitMapping[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;o.activeTexture(c.textureUnit),o.uniform1i(c.location,c.textureUnitIndex),o.bindTexture(o.TEXTURE_2D,r)}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}o.drawArrays(o.TRIANGLES,0,6)})}}]),t}(r.default);e.DESTINATIONTYPE=l,e.default=c})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t],void 0===(i="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectException=function(e){this.message=e,this.name="ConnectionException"},e.RenderException=function(e){this.message=e,this.name="RenderException"}})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(12)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSITIONTYPE=void 0;var o,n=(o=t)&&o.__esModule?o:{default:o},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i="TransitionNode",a=function(e){function t(e,o,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,n));for(var a in r._transitions={},r._initialPropertyValues={},r._properties)r._initialPropertyValues[a]=r._properties[a].value;return r._displayName=i,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_doesTransitionFitOnTimeline",value:function(e){if(void 0===this._transitions[e.property])return!0;var t=!0,o=!1,n=void 0;try{for(var r,i=this._transitions[e.property][Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(e.start>a.start&&e.start<a.end)return!1;if(e.end>a.start&&e.end<a.end)return!1;if(a.start>e.start&&a.start<e.end)return!1;if(a.end>e.start&&a.end<e.end)return!1}}catch(e){o=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}return!0}},{key:"_insertTransitionInTimeline",value:function(e){void 0===this._transitions[e.property]&&(this._transitions[e.property]=[]),this._transitions[e.property].push(e),this._transitions[e.property].sort(function(e,t){return e.start-t.start})}},{key:"transition",value:function(e,t,o,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mix",i={start:e+this._currentTime,end:t+this._currentTime,current:o,target:n,property:r};return!!this._doesTransitionFitOnTimeline(i)&&(this._insertTransitionInTimeline(i),!0)}},{key:"transitionAt",value:function(e,t,o,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mix",i={start:e,end:t,current:o,target:n,property:r};return!!this._doesTransitionFitOnTimeline(i)&&(this._insertTransitionInTimeline(i),!0)}},{key:"clearTransitions",value:function(e){void 0===e?this._transitions={}:this._transitions[e]=[]}},{key:"clearTransition",value:function(e,t){for(var o=void 0,n=0;n<this._transitions[e].length;n++){var r=this._transitions[e][n];t>r.start&&t<r.end&&(o=n)}return void 0!==o&&(this._transitions[e].splice(o,1),!0)}},{key:"_update",value:function(e){for(var o in function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_update",this).call(this,e),this._transitions){var n=this[o];this._transitions[o].length>0&&(n=this._transitions[o][0].current);for(var r=!1,i=0;i<this._transitions[o].length;i++){var a=this._transitions[o][i];if(e>a.end)n=a.target;else if(e>a.start&&e<a.end){var s=a.target-a.current,u=(this._currentTime-a.start)/(a.end-a.start);r=!0,this[o]=a.current+s*u;break}}r||(this[o]=n)}}}]),t}(n.default);e.TRANSITIONTYPE=i,e.default=a})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(2),o(0)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EFFECTYPE=void 0;var n,r=(n=t)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a="EffectNode",s=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(0,o.createElementTexture)(e);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]));var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,r.inputs,!0));return s._placeholderTexture=i,s._displayName=a,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_render",value:function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.blendFunc(e.ONE,e.ZERO),function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_render",this).call(this);for(var o=this._renderGraph.getInputsForNode(this),n=0;n<this._shaderInputsTextureUnitMapping.length;n++){var r=this._placeholderTexture,i=this._shaderInputsTextureUnitMapping[n].textureUnit;n<o.length&&void 0!==o[n]&&(r=o[n]._texture),e.activeTexture(i),e.uniform1i(this._shaderInputsTextureUnitMapping[n].location,this._shaderInputsTextureUnitMapping[n].textureUnitIndex),e.bindTexture(e.TEXTURE_2D,r)}e.drawArrays(e.TRIANGLES,0,6),e.bindFramebuffer(e.FRAMEBUFFER,null)}}]),t}(r.default);e.EFFECTYPE=a,e.default=s})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[t,o(2),o(0)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPOSITINGTYPE=void 0;var n,r=(n=t)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a="CompositingNode",s=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(0,o.createElementTexture)(e);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]));var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,r.inputs,!1));return s._placeholderTexture=i,s._displayName=a,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_render",value:function(){var e=this,o=this._gl;o.bindFramebuffer(o.FRAMEBUFFER,this._framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._texture,0),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),this.inputs.forEach(function(n){if(void 0!==n){(function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_render",e).call(e);var r=n._texture,i=!0,a=!1,s=void 0;try{for(var u,l=e._shaderInputsTextureUnitMapping[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;o.activeTexture(c.textureUnit),o.uniform1i(c.location,c.textureUnitIndex),o.bindTexture(o.TEXTURE_2D,r)}}catch(e){a=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}o.drawArrays(o.TRIANGLES,0,6)}}),o.bindFramebuffer(o.FRAMEBUFFER,null)}}]),t}(r.default);e.COMPOSITINGTYPE=a,e.default=s})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(0),o(5),o(152),o(8),o(7),o(1),o(13),o(9),o(12),o(11),o(153),o(154),o(3)],void 0===(i="function"==typeof(n=function(e,t,o,n,r,i,a,s,u,l,c,p,f,d,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=O(n),m=O(r),h=O(i),y=O(a),g=O(u),x=O(l),b=O(c),C=O(p),T=O(f),E=O(d),S=O(v);function O(e){return e&&e.__esModule?e:{default:e}}var A=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),P=new o.UpdateablesManager,w=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{preserveDrawingBuffer:!0,manualUpdate:!1,endOnLastSourceEnd:!0,useVideoElementCache:!0,videoElementCacheSize:6,webglContextAttributes:{preserveDrawingBuffer:!0,alpha:!1}};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._canvas=t;var i=!1;this.endOnLastSourceEnd=!0;var a={preserveDrawingBuffer:!0,alpha:!1};if("manualUpdate"in r&&(i=r.manualUpdate),"endOnLastSourceEnd"in r&&(this._endOnLastSourceEnd=r.endOnLastSourceEnd),"webglContextAttributes"in r&&(a=r.webglContextAttributes),void 0===a.alpha&&(a.alpha=!1),!0===a.alpha&&console.error("webglContextAttributes.alpha must be false for correct opeation"),this._gl=t.getContext("experimental-webgl",a),null===this._gl)return console.error("Failed to intialise WebGL."),void(n&&n());void 0===r.useVideoElementCache&&(r.useVideoElementCache=!0),this._useVideoElementCache=r.useVideoElementCache,this._useVideoElementCache&&(r.videoElementCacheSize||(r.videoElementCacheSize=5),this._videoElementCache=new E.default(r.videoElementCacheSize)),this._canvas.id&&("string"==typeof this._canvas.id||this._canvas.id instanceof String)&&(this._id=t.id),void 0===this._id&&(this._id=(0,o.generateRandomId)()),void 0===window.__VIDEOCONTEXT_REFS__&&(window.__VIDEOCONTEXT_REFS__={}),window.__VIDEOCONTEXT_REFS__[this._id]=this,this._renderGraph=new T.default,this._sourceNodes=[],this._processingNodes=[],this._timeline=[],this._currentTime=0,this._state=e.STATE.PAUSED,this._playbackRate=1,this._volume=1,this._sourcesPlaying=void 0,this._destinationNode=new x.default(this._gl,this._renderGraph),this._callbacks=new Map,this._callbacks.set("stalled",[]),this._callbacks.set("update",[]),this._callbacks.set("ended",[]),this._callbacks.set("content",[]),this._callbacks.set("nocontent",[]),this._timelineCallbacks=[],i||P.register(this)}return A(e,[{key:"registerTimelineCallback",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._timelineCallbacks.push({time:e,func:t,ordering:o})}},{key:"unregisterTimelineCallback",value:function(e){var t=[],o=!0,n=!1,r=void 0;try{for(var i,a=this._timelineCallbacks[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;s.func===e&&t.push(s)}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}var u=!0,l=!1,c=void 0;try{for(var p,f=t[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value,v=this._timelineCallbacks.indexOf(d);this._timelineCallbacks.splice(v,1)}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"registerCallback",value:function(e,t){if(!this._callbacks.has(e))return!1;this._callbacks.get(e).push(t)}},{key:"unregisterCallback",value:function(e){var t=!0,o=!1,n=void 0;try{for(var r,i=this._callbacks.values()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value,s=a.indexOf(e);if(-1!==s)return a.splice(s,1),!0}}catch(e){o=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}return!1}},{key:"_callCallbacks",value:function(e){var t=this._callbacks.get(e),o=!0,n=!1,r=void 0;try{for(var i,a=t[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;s(this._currentTime)}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"play",value:function(){return console.debug("VideoContext - playing"),this._videoElementCache&&this._videoElementCache.init(),this._state=e.STATE.PLAYING,!0}},{key:"pause",value:function(){return console.debug("VideoContext - pausing"),this._state=e.STATE.PAUSED,!0}},{key:"video",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new _.default(e,this._gl,this._renderGraph,this._currentTime,this._playbackRate,t,o,this._videoElementCache,n);return this._sourceNodes.push(r),r}},{key:"paddingNode",value:function(e,t){return(0,o.addPadding)(this,e,t)}},{key:"audio",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new m.default(e,this._gl,this._renderGraph,this._currentTime,this._playbackRate,t,o,this._audioElementCache,n);return this._sourceNodes.push(r),r}},{key:"createVideoSourceNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this._depricate("Warning: createVideoSourceNode will be depricated in v1.0, please switch to using VideoContext.video()"),this.video(e,t,o,n)}},{key:"image",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new h.default(e,this._gl,this._renderGraph,this._currentTime,t,o);return this._sourceNodes.push(n),n}},{key:"createImageSourceNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this._depricate("Warning: createImageSourceNode will be depricated in v1.0, please switch to using VideoContext.image()"),this.image(e,t,o,n)}},{key:"canvas",value:function(e){var t=new y.default(e,this._gl,this._renderGraph,this._currentTime);return this._sourceNodes.push(t),t}},{key:"createCanvasSourceNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return this._depricate("Warning: createCanvasSourceNode will be depricated in v1.0, please switch to using VideoContext.canvas()"),this.canvas(e,t,o)}},{key:"effect",value:function(e){var t=new b.default(this._gl,this._renderGraph,e);return this._processingNodes.push(t),t}},{key:"createEffectNode",value:function(e){return this._depricate("Warning: createEffectNode will be depricated in v1.0, please switch to using VideoContext.effect()"),this.effect(e)}},{key:"compositor",value:function(e){var t=new g.default(this._gl,this._renderGraph,e);return this._processingNodes.push(t),t}},{key:"createCompositingNode",value:function(e){return this._depricate("Warning: createCompositingNode will be depricated in v1.0, please switch to using VideoContext.compositor()"),this.compositor(e)}},{key:"transition",value:function(e){var t=new C.default(this._gl,this._renderGraph,e);return this._processingNodes.push(t),t}},{key:"createTransitionNode",value:function(e){return this._depricate("Warning: createTransitionNode will be depricated in v1.0, please switch to using VideoContext.transition()"),this.transition(e)}},{key:"_isStalled",value:function(){for(var e=0;e<this._sourceNodes.length;e++){var t=this._sourceNodes[e];if(!t._isReady())return!0}return!1}},{key:"update",value:function(e){this._update(e)}},{key:"_update",value:function(t){if(this._sourceNodes=this._sourceNodes.filter(function(e){if(!e.destroyed)return e}),this._processingNodes=this._processingNodes.filter(function(e){if(!e.destroyed)return e}),this._state===e.STATE.PLAYING||this._state===e.STATE.STALLED||this._state===e.STATE.PAUSED){if(this._callCallbacks("update"),this._state!==e.STATE.PAUSED&&(this._isStalled()?(this._callCallbacks("stalled"),this._state=e.STATE.STALLED):this._state=e.STATE.PLAYING),this._state===e.STATE.PLAYING){var o=new Map,n=!0,r=!1,i=void 0;try{for(var a,u=this._timelineCallbacks[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.time>=this.currentTime&&l.time<this._currentTime+t*this._playbackRate&&(o.has(l.time)||o.set(l.time,[]),o.get(l.time).push(l))}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}var c=Array.from(o.keys());c.sort(function(e,t){return e-t});var p=!0,f=!1,d=void 0;try{for(var v,_=c[Symbol.iterator]();!(p=(v=_.next()).done);p=!0){var m=v.value,h=o.get(m);h.sort(function(e,t){return e.ordering-t.ordering});var y=!0,g=!1,x=void 0;try{for(var b,C=h[Symbol.iterator]();!(y=(b=C.next()).done);y=!0){var E=b.value;E.func()}}catch(e){g=!0,x=e}finally{try{!y&&C.return&&C.return()}finally{if(g)throw x}}}}catch(e){f=!0,d=e}finally{try{!p&&_.return&&_.return()}finally{if(f)throw d}}if(this._currentTime+=t*this._playbackRate,this._currentTime>this.duration&&this._endOnLastSourceEnd){for(var S=0;S<this._sourceNodes.length;S++)this._sourceNodes[S]._update(this._currentTime);this._state=e.STATE.ENDED,this._callCallbacks("ended")}}for(var O=!1,A=0;A<this._sourceNodes.length;A++){var P=this._sourceNodes[A];this._state===e.STATE.STALLED&&P._isReady()&&P._state===s.SOURCENODESTATE.playing&&P._pause(),this._state===e.STATE.PAUSED&&P._pause(),this._state===e.STATE.PLAYING&&P._play(),P._update(this._currentTime),P._state!==s.SOURCENODESTATE.paused&&P._state!==s.SOURCENODESTATE.playing||(O=!0)}O!==this._sourcesPlaying&&this._state===e.STATE.PLAYING&&(!0===O?this._callCallbacks("content"):this._callCallbacks("nocontent"),this._sourcesPlaying=O);for(var w=[],D=this._renderGraph.connections.slice(),k=T.default.getInputlessNodes(D);k.length>0;){var F=k.pop();w.push(F);var N=!0,R=!1,M=void 0;try{for(var I,U=T.default.outputEdgesFor(F,D)[Symbol.iterator]();!(N=(I=U.next()).done);N=!0){var j=I.value,L=D.indexOf(j);L>-1&&D.splice(L,1),0===T.default.inputEdgesFor(j.destination,D).length&&k.push(j.destination)}}catch(e){R=!0,M=e}finally{try{!N&&U.return&&U.return()}finally{if(R)throw M}}}var G=!0,z=!1,q=void 0;try{for(var B,V=w[Symbol.iterator]();!(G=(B=V.next()).done);G=!0){var Y=B.value;-1===this._sourceNodes.indexOf(Y)&&(Y._update(this._currentTime),Y._render())}}catch(e){z=!0,q=e}finally{try{!G&&V.return&&V.return()}finally{if(z)throw q}}}}},{key:"reset",value:function(){var t=!0,o=!1,n=void 0;try{for(var r,i=this._callbacks[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;this.unregisterCallback(a)}}catch(e){o=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}var s=!0,u=!1,l=void 0;try{for(var c,p=this._sourceNodes[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=c.value;f.destroy()}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}var d=!0,v=!1,_=void 0;try{for(var m,h=this._processingNodes[Symbol.iterator]();!(d=(m=h.next()).done);d=!0){var y=m.value;y.destroy()}}catch(e){v=!0,_=e}finally{try{!d&&h.return&&h.return()}finally{if(v)throw _}}this._update(0),this._sourceNodes=[],this._processingNodes=[],this._timeline=[],this._currentTime=0,this._state=e.STATE.PAUSED,this._playbackRate=1,this._sourcesPlaying=void 0,this._callbacks.set("stalled",[]),this._callbacks.set("update",[]),this._callbacks.set("ended",[]),this._callbacks.set("content",[]),this._callbacks.set("nocontent",[]),this._timelineCallbacks=[]}},{key:"_depricate",value:function(e){console.log(e)}},{key:"snapshot",value:function(){return(0,o.snapshot)(this)}},{key:"id",get:function(){return this._id},set:function(e){delete window.__VIDEOCONTEXT_REFS__[this._id],void 0!==window.__VIDEOCONTEXT_REFS__[e]&&console.warn("Warning; setting id to that of an existing VideoContext instance."),window.__VIDEOCONTEXT_REFS__[e]=this,this._id=e}},{key:"element",get:function(){return this._canvas}},{key:"state",get:function(){return this._state}},{key:"currentTime",set:function(t){t<this.duration&&this._state===e.STATE.ENDED&&(this._state=e.STATE.PAUSED),("string"==typeof t||t instanceof String)&&(t=parseFloat(t));for(var o=0;o<this._sourceNodes.length;o++)this._sourceNodes[o]._seek(t);for(var n=0;n<this._processingNodes.length;n++)this._processingNodes[n]._seek(t);this._currentTime=t},get:function(){return this._currentTime}},{key:"duration",get:function(){for(var e=0,t=0;t<this._sourceNodes.length;t++)this._sourceNodes[t].state!==s.SOURCENODESTATE.waiting&&this._sourceNodes[t]._stopTime>e&&(e=this._sourceNodes[t]._stopTime);return e}},{key:"destination",get:function(){return this._destinationNode}},{key:"playbackRate",set:function(e){if(e<=0)throw new RangeError("playbackRate must be greater than 0");var t=!0,o=!1,r=void 0;try{for(var i,a=this._sourceNodes[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;s.constructor.name===n.VIDEOTYPE&&(s._globalPlaybackRate=e,s._playbackRateUpdated=!0)}}catch(e){o=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(o)throw r}}this._playbackRate=e},get:function(){return this._playbackRate}},{key:"volume",set:function(e){var t=!0,o=!1,n=void 0;try{for(var r,i=this._sourceNodes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;(a instanceof _.default||a instanceof m.default)&&(a.volume=e)}}catch(e){o=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}this._volume=e},get:function(){return this._volume}}],[{key:"DEFINITIONS",get:function(){return S.default}}]),e}();t.default=w,w.STATE={},w.STATE.PLAYING=0,w.STATE.PAUSED=1,w.STATE.STALLED=2,w.STATE.ENDED=3,w.STATE.BROKEN=4,w.visualiseVideoContextTimeline=o.visualiseVideoContextTimeline,w.visualiseVideoContextGraph=o.visualiseVideoContextGraph,w.createControlFormForNode=o.createControlFormForNode,w.createSigmaGraphDataFromRenderGraph=o.createSigmaGraphDataFromRenderGraph,w.exportToJSON=o.exportToJSON,w.updateablesManager=P,w.importSimpleEDL=o.importSimpleEDL,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(16),o(17)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"AAF Video Scale Effect",description:"A scale effect based on the AAF spec.",vertexShader:r.default,fragmentShader:i.default,properties:{scaleX:{type:"uniform",value:1},scaleY:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float scaleX;\nuniform float scaleY;\nvarying vec2 v_texCoord;\nvarying float v_progress;\nvoid main(){\n    vec2 pos = vec2(v_texCoord[0]*1.0/scaleX - (1.0/scaleX/2.0 -0.5), v_texCoord[1]*1.0/scaleY - (1.0/scaleY/2.0 -0.5));\n    vec4 color = texture2D(u_image, pos);\n    if (pos[0] < 0.0 || pos[0] > 1.0 || pos[1] < 0.0 || pos[1] > 1.0){\n        color = vec4(0.0,0.0,0.0,0.0);\n    }\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(19),o(20)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Cross-Fade",description:"A cross-fade effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    color_a[0] *= (1.0 - mix);\n    color_a[1] *= (1.0 - mix);\n    color_a[2] *= (1.0 - mix);\n    color_a[3] *= (1.0 - mix);\n    color_b[0] *= mix;\n    color_b[1] *= mix;\n    color_b[2] *= mix;\n    color_b[3] *= mix;\n    gl_FragColor = color_a + color_b;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(22),o(23)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"cube",description:"A cube effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},persp:{type:"uniform",value:.7},unzoom:{type:"uniform",value:.3},reflection:{type:"uniform",value:.4},floating:{type:"uniform",value:3}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nuniform float persp;\nuniform float unzoom;\nuniform float reflection;\nuniform float floating;\n\nvec2 project (vec2 p) {\n  return p * vec2(1.0, -1.2) + vec2(0.0, -floating/100.);\n}\n\nbool inBounds (vec2 p) {\n  return all(lessThan(vec2(0.0), p)) && all(lessThan(p, vec2(1.0)));\n}\n\nvec4 bgColor (vec2 p, vec2 pfr, vec2 pto) {\n  vec4 c = vec4(0.0, 0.0, 0.0, 1.0);\n  pfr = project(pfr);\n  if (inBounds(pfr)) {\n    c += mix(vec4(0.0), texture2D(from, pfr), reflection * mix(1.0, 0.0, pfr.y));\n  }\n  pto = project(pto);\n  if (inBounds(pto)) {\n    c += mix(vec4(0.0), texture2D(to, pto), reflection * mix(1.0, 0.0, pto.y));\n  }\n  return c;\n}\n\nvec2 xskew (vec2 p, float persp, float center) {\n  float x = mix(p.x, 1.0-p.x, center);\n  return (\n    (\n      vec2( x, (p.y - 0.5*(1.0-persp) * x) / (1.0+(persp-1.0)*x) )\n      - vec2(0.5-distance(center, 0.5), 0.0)\n    )\n    * vec2(0.5 / distance(center, 0.5) * (center<0.5 ? 1.0 : -1.0), 1.0)\n    + vec2(center<0.5 ? 0.0 : 1.0, 0.0)\n  );\n}\n\nvoid main() {\n  vec2 op = gl_FragCoord.xy / resolution.xy;\n  float uz = unzoom * 2.0*(0.5-distance(0.5, progress));\n  vec2 p = -uz*0.5+(1.0+uz) * op;\n  vec2 fromP = xskew(\n    (p - vec2(progress, 0.0)) / vec2(1.0-progress, 1.0),\n    1.0-mix(progress, 0.0, persp),\n    0.0\n  );\n  vec2 toP = xskew(\n    p / vec2(progress, 1.0),\n    mix(pow(progress, 2.0), 1.0, persp),\n    1.0\n  );\n  float fromAlpha = 1.0;\n  float toAlpha = 1.0;\n  const float radius = 6.0;\n  vec2 step = vec2(1.0)/resolution.xy;\n  if (progress < 1.0 && progress > 0.0) {\n    if (fromP.y < step.y*radius && fromP.y > 0.0) {\n      fromAlpha = fromP.y/(step.y*radius);\n    }\n    else if (fromP.y < 1.0 && fromP.y > 1.0-step.y*radius) {\n      fromAlpha = (1.0-fromP.y)/(step.y*radius);\n    }\n\n    if (toP.y < step.y*radius && toP.y > 0.0) {\n      toAlpha = toP.y/(step.y*radius);\n    }\n    else if (toP.y < 1.0 && toP.y > 1.0-step.y*radius) {\n      toAlpha = (1.0-toP.y)/(step.y*radius);\n    }\n  }\n  if (inBounds(fromP)) {\n    gl_FragColor = texture2D(from, fromP)*fromAlpha;\n  }\n  else if (inBounds(toP)) {\n    gl_FragColor = texture2D(to, toP)*toAlpha;\n  }\n  else {\n    gl_FragColor = bgColor(op, fromP, toP);\n  }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(25),o(26)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Horizontal Wipe",description:"A horizontal wipe effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    if (v_texCoord[0] > mix){\n        gl_FragColor = color_a;\n    } else {\n        gl_FragColor = color_b;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(28),o(29)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"vertical Wipe",description:"A vertical wipe effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    if (v_texCoord[1] > mix){\n        gl_FragColor = color_a;\n    } else {\n        gl_FragColor = color_b;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(31),o(32)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Random Dissolve",description:"A random dissolve effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    if (clamp(rand(v_texCoord),  0.01, 1.001) > mix){\n        gl_FragColor = color_a;\n    } else {\n        gl_FragColor = color_b;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(34),o(35)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"To Color And Back Fade",description:"A fade to black and back effect. Setting mix to 0.5 is a fully solid color frame. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0},color:{type:"uniform",value:[0,0,0,0]}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nuniform vec4 color;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    float mix_amount = (mix *2.0) - 1.0;\n    if(mix_amount < 0.0){\n        gl_FragColor = abs(mix_amount) * color_a + (1.0 - abs(mix_amount)) * color;\n    } else {\n        gl_FragColor = mix_amount * color_b + (1.0 - mix_amount) * color;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(37),o(38)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Star Wipe Fade",description:"A classic star wipe transistion. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:1}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nfloat sign (vec2 p1, vec2 p2, vec2 p3){\n    return (p1[0] - p3[0]) * (p2[1] - p3[1]) - (p2[0] - p3[0]) * (p1[1] - p3[1]);\n}\nbool pointInTriangle(vec2 pt, vec2 v1, vec2 v2, vec2 v3){\n    bool b1, b2, b3;\n    b1 = sign(pt, v1, v2) < 0.0;\n    b2 = sign(pt, v2, v3) < 0.0;\n    b3 = sign(pt, v3, v1) < 0.0;\n    return ((b1 == b2) && (b2 == b3));\n}\nvec2 rotatePointAboutPoint(vec2 point, vec2 pivot, float angle){\n    float s = sin(angle);\n    float c = cos(angle);\n    float x = point[0] - pivot[0];\n    float y = point[1] - pivot[1];\n    float new_x = x * c - y * s;\n    float new_y = x * s + y * c;\n    return vec2(new_x + pivot[0], new_y+pivot[1]);\n}\n\nvoid main(){\n    vec4 color_a = texture2D(u_image_b, v_texCoord);\n    vec4 color_b = texture2D(u_image_a, v_texCoord);\n    vec2 t0_p0,t0_p1,t0_p2,t1_p0,t1_p1,t1_p2,t2_p0,t2_p1,t2_p2,t3_p0,t3_p1,t3_p2;\n    vec2 t4_p0,t4_p1,t4_p2,t5_p0,t5_p1,t5_p2,t6_p0,t6_p1,t6_p2,t7_p0,t7_p1,t7_p2;\n\n\n    t0_p0 = vec2(0.0, 0.25) * clamp(mix,0.0,1.0) * 2.0 + vec2(0.5,0.5);\n    t0_p1 = vec2(0.0, -0.25) * clamp(mix,0.0,1.0) * 2.0 + vec2(0.5,0.5);\n    t0_p2 = vec2(1.0, 0.0) * clamp(mix,0.0,1.0) * 2.0 + vec2(0.5,0.5);\n\n    t1_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854);\n    t1_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854);\n    t1_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854);\n\n    t2_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 2.0);\n    t2_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 2.0);\n    t2_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 2.0);\n\n    t3_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 3.0);\n    t3_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 3.0);\n    t3_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 3.0);\n\n    t4_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 4.0);\n    t4_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 4.0);\n    t4_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 4.0);\n\n    t5_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 5.0);\n    t5_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 5.0);\n    t5_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 5.0);\n\n    t6_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 6.0);\n    t6_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 6.0);\n    t6_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 6.0);\n\n    t7_p0 = rotatePointAboutPoint(t0_p0, vec2(0.5,0.5), 0.7854 * 7.0);\n    t7_p1 = rotatePointAboutPoint(t0_p1, vec2(0.5,0.5), 0.7854 * 7.0);\n    t7_p2 = rotatePointAboutPoint(t0_p2, vec2(0.5,0.5), 0.7854 * 7.0);\n\n    if(mix > 0.99){\n        gl_FragColor = color_a;\n        return;\n    }\n    if(mix < 0.01){\n        gl_FragColor = color_b;\n        return;\n    }\n    if(pointInTriangle(v_texCoord, t0_p0, t0_p1, t0_p2) || pointInTriangle(v_texCoord, t1_p0, t1_p1, t1_p2) || pointInTriangle(v_texCoord, t2_p0, t2_p1, t2_p2) || pointInTriangle(v_texCoord, t3_p0, t3_p1, t3_p2) || pointInTriangle(v_texCoord, t4_p0, t4_p1, t4_p2) || pointInTriangle(v_texCoord, t5_p0, t5_p1, t5_p2) || pointInTriangle(v_texCoord, t6_p0, t6_p1, t6_p2) || pointInTriangle(v_texCoord, t7_p0, t7_p1, t7_p2)){\n        gl_FragColor = color_a;\n    } else {\n        gl_FragColor = color_b;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(40),o(41)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Combine",description:"A basic effect which renders the input to the output, Typically used as a combine node for layering up media with alpha transparency.",vertexShader:r.default,fragmentShader:i.default,properties:{a:{type:"uniform",value:0}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float a;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(43),o(44)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Color Threshold",description:"Turns all pixels with a greater value than the specified threshold transparent.",vertexShader:r.default,fragmentShader:i.default,properties:{a:{type:"uniform",value:0},colorAlphaThreshold:{type:"uniform",value:[0,.55,0]}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float a;\nuniform vec3 colorAlphaThreshold;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    if (color[0] > colorAlphaThreshold[0] && color[1]> colorAlphaThreshold[1] && color[2]> colorAlphaThreshold[2]){\n        color = vec4(0.0,0.0,0.0,0.0);\n    }\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(46),o(47)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Monochrome",description:"Change images to a single chroma (e.g can be used to make a black & white filter). Input color mix and output color mix can be adjusted.",vertexShader:r.default,fragmentShader:i.default,properties:{inputMix:{type:"uniform",value:[.4,.6,.2]},outputMix:{type:"uniform",value:[1,1,1]}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform vec3 inputMix;\nuniform vec3 outputMix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    float mono = color[0]*inputMix[0] + color[1]*inputMix[1] + color[2]*inputMix[2];\n    color[0] = mono * outputMix[0];\n    color[1] = mono * outputMix[1];\n    color[2] = mono * outputMix[2];\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(49),o(50)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Horizontal Blur",description:"A horizontal blur effect. Adpated from http://xissburg.com/faster-gaussian-blur-in-glsl/",vertexShader:r.default,fragmentShader:i.default,properties:{blurAmount:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform float blurAmount;\nvarying vec2 v_texCoord;\nvarying vec2 v_blurTexCoords[14];\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n    v_blurTexCoords[ 0] = v_texCoord + vec2(-0.028 * blurAmount, 0.0);\n    v_blurTexCoords[ 1] = v_texCoord + vec2(-0.024 * blurAmount, 0.0);\n    v_blurTexCoords[ 2] = v_texCoord + vec2(-0.020 * blurAmount, 0.0);\n    v_blurTexCoords[ 3] = v_texCoord + vec2(-0.016 * blurAmount, 0.0);\n    v_blurTexCoords[ 4] = v_texCoord + vec2(-0.012 * blurAmount, 0.0);\n    v_blurTexCoords[ 5] = v_texCoord + vec2(-0.008 * blurAmount, 0.0);\n    v_blurTexCoords[ 6] = v_texCoord + vec2(-0.004 * blurAmount, 0.0);\n    v_blurTexCoords[ 7] = v_texCoord + vec2( 0.004 * blurAmount, 0.0);\n    v_blurTexCoords[ 8] = v_texCoord + vec2( 0.008 * blurAmount, 0.0);\n    v_blurTexCoords[ 9] = v_texCoord + vec2( 0.012 * blurAmount, 0.0);\n    v_blurTexCoords[10] = v_texCoord + vec2( 0.016 * blurAmount, 0.0);\n    v_blurTexCoords[11] = v_texCoord + vec2( 0.020 * blurAmount, 0.0);\n    v_blurTexCoords[12] = v_texCoord + vec2( 0.024 * blurAmount, 0.0);\n    v_blurTexCoords[13] = v_texCoord + vec2( 0.028 * blurAmount, 0.0);\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec2 v_blurTexCoords[14];\nvoid main(){\n    gl_FragColor = vec4(0.0);\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 0])*0.0044299121055113265;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 1])*0.00895781211794;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 2])*0.0215963866053;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 3])*0.0443683338718;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 4])*0.0776744219933;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 5])*0.115876621105;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 6])*0.147308056121;\n    gl_FragColor += texture2D(u_image, v_texCoord         )*0.159576912161;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 7])*0.147308056121;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 8])*0.115876621105;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 9])*0.0776744219933;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[10])*0.0443683338718;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[11])*0.0215963866053;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[12])*0.00895781211794;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[13])*0.0044299121055113265;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(52),o(53)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Vertical Blur",description:"A vertical blur effect. Adpated from http://xissburg.com/faster-gaussian-blur-in-glsl/",vertexShader:r.default,fragmentShader:i.default,properties:{blurAmount:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nuniform float blurAmount;\nvarying vec2 v_blurTexCoords[14];\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n    v_blurTexCoords[ 0] = v_texCoord + vec2(0.0,-0.028 * blurAmount);\n    v_blurTexCoords[ 1] = v_texCoord + vec2(0.0,-0.024 * blurAmount);\n    v_blurTexCoords[ 2] = v_texCoord + vec2(0.0,-0.020 * blurAmount);\n    v_blurTexCoords[ 3] = v_texCoord + vec2(0.0,-0.016 * blurAmount);\n    v_blurTexCoords[ 4] = v_texCoord + vec2(0.0,-0.012 * blurAmount);\n    v_blurTexCoords[ 5] = v_texCoord + vec2(0.0,-0.008 * blurAmount);\n    v_blurTexCoords[ 6] = v_texCoord + vec2(0.0,-0.004 * blurAmount);\n    v_blurTexCoords[ 7] = v_texCoord + vec2(0.0, 0.004 * blurAmount);\n    v_blurTexCoords[ 8] = v_texCoord + vec2(0.0, 0.008 * blurAmount);\n    v_blurTexCoords[ 9] = v_texCoord + vec2(0.0, 0.012 * blurAmount);\n    v_blurTexCoords[10] = v_texCoord + vec2(0.0, 0.016 * blurAmount);\n    v_blurTexCoords[11] = v_texCoord + vec2(0.0, 0.020 * blurAmount);\n    v_blurTexCoords[12] = v_texCoord + vec2(0.0, 0.024 * blurAmount);\n    v_blurTexCoords[13] = v_texCoord + vec2(0.0, 0.028 * blurAmount);\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec2 v_blurTexCoords[14];\nvoid main(){\n    gl_FragColor = vec4(0.0);\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 0])*0.0044299121055113265;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 1])*0.00895781211794;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 2])*0.0215963866053;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 3])*0.0443683338718;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 4])*0.0776744219933;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 5])*0.115876621105;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 6])*0.147308056121;\n    gl_FragColor += texture2D(u_image, v_texCoord         )*0.159576912161;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 7])*0.147308056121;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 8])*0.115876621105;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[ 9])*0.0776744219933;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[10])*0.0443683338718;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[11])*0.0215963866053;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[12])*0.00895781211794;\n    gl_FragColor += texture2D(u_image, v_blurTexCoords[13])*0.0044299121055113265;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(55),o(56)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"AAF Video Flop Effect",description:"A flop effect based on the AAF spec. Mirrors the image in the y-axis",vertexShader:r.default,fragmentShader:i.default,properties:{},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvoid main(){\n    vec2 coord = vec2(1.0 - v_texCoord[0] ,v_texCoord[1]);\n    vec4 color = texture2D(u_image, coord);\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(58),o(59)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"AAF Video Flip Effect",description:"A flip effect based on the AAF spec. Mirrors the image in the x-axis",vertexShader:r.default,fragmentShader:i.default,properties:{},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvoid main(){\n    vec2 coord = vec2(v_texCoord[0] ,1.0 - v_texCoord[1]);\n    vec4 color = texture2D(u_image, coord);\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(61),o(62)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"AAF Video Position Effect",description:"A position effect based on the AAF spec.",vertexShader:r.default,fragmentShader:i.default,properties:{positionOffsetX:{type:"uniform",value:0},positionOffsetY:{type:"uniform",value:0}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float positionOffsetX;\nuniform float positionOffsetY;\nvarying vec2 v_texCoord;\nvarying float v_progress;\nvoid main(){\n    vec2 pos = vec2(v_texCoord[0] - positionOffsetX/2.0, v_texCoord[1] -  positionOffsetY/2.0);\n    vec4 color = texture2D(u_image, pos);\n    if (pos[0] < 0.0 || pos[0] > 1.0 || pos[1] < 0.0 || pos[1] > 1.0){\n        color = vec4(0.0,0.0,0.0,0.0);\n    }\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(64),o(65)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"AAF Video Crop Effect",description:"A crop effect based on the AAF spec.",vertexShader:r.default,fragmentShader:i.default,properties:{cropLeft:{type:"uniform",value:-1},cropRight:{type:"uniform",value:1},cropTop:{type:"uniform",value:-1},cropBottom:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float cropLeft;\nuniform float cropRight;\nuniform float cropTop;\nuniform float cropBottom;\nvarying vec2 v_texCoord;\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    if (v_texCoord[0] < (cropLeft+1.0)/2.0) color = vec4(0.0,0.0,0.0,0.0);\n    if (v_texCoord[0] > (cropRight+1.0)/2.0) color = vec4(0.0,0.0,0.0,0.0);\n    if (v_texCoord[1] < (-cropBottom+1.0)/2.0) color = vec4(0.0,0.0,0.0,0.0);\n    if (v_texCoord[1] > (-cropTop+1.0)/2.0) color = vec4(0.0,0.0,0.0,0.0);\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(67),o(68)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Static Dissolve",description:"A static dissolve effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nuniform float currentTime;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nfloat rand(vec2 co, float currentTime){\n    return fract(sin(dot(co.xy,vec2(12.9898,78.233))+currentTime) * 43758.5453);\n}\nvoid main(){\n    vec4 color_a = texture2D(u_image_a, v_texCoord);\n    vec4 color_b = texture2D(u_image_b, v_texCoord);\n    if (clamp(rand(v_texCoord, currentTime),  0.01, 1.001) > mix){\n        gl_FragColor = color_a;\n    } else {\n        gl_FragColor = color_b;\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(70),o(71)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Static",description:"A static effect to add pseudo random noise to a video",vertexShader:r.default,fragmentShader:i.default,properties:{weight:{type:"uniform",value:[1,1,1]},amount:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float currentTime;\nuniform float amount;\nvarying vec2 v_texCoord;\nuniform vec3 weight;\nfloat rand(vec2 co, float currentTime){\n    return fract(sin(dot(co.xy,vec2(12.9898,78.233))+currentTime) * 43758.5453);\n}\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    color[0] = color[0] + (2.0*(clamp(rand(v_texCoord, currentTime),  0.01, 1.001)-0.5)) * weight[0] * amount;\n    color[1] = color[1] + (2.0*(clamp(rand(v_texCoord, currentTime),  0.01, 1.001)-0.5)) * weight[1] * amount;\n    color[2] = color[2] + (2.0*(clamp(rand(v_texCoord, currentTime),  0.01, 1.001)-0.5)) * weight[2] *amount;\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(73),o(74)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Dream-Fade",description:"A wobbly dream effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{mix:{type:"uniform",value:0}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform float mix;\nvarying vec2 v_texCoord;\nvarying float v_mix;\nvoid main(){\n    float wobble = 1.0 - abs((mix*2.0)-1.0);\n    vec2 pos = vec2(v_texCoord[0] + ((sin(v_texCoord[1]*(10.0*wobble*3.14) + wobble*10.0)/13.0)), v_texCoord[1]);\n    vec4 color_a = texture2D(u_image_a, pos);\n    vec4 color_b = texture2D(u_image_b, pos);\n    color_a[0] *= (1.0 - mix);\n    color_a[1] *= (1.0 - mix);\n    color_a[2] *= (1.0 - mix);\n    color_a[3] *= (1.0 - mix);\n    color_b[0] *= mix;\n    color_b[1] *= mix;\n    color_b[2] *= mix;\n    color_b[3] *= mix;\n    gl_FragColor = color_a + color_b;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(76),o(77)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Opacity",description:"Sets the opacity of an input.",vertexShader:r.default,fragmentShader:i.default,properties:{opacity:{type:"uniform",value:.7}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float opacity;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\nvoid main(){\n    vec4 color = texture2D(u_image, v_texCoord);\n    color[3] *= opacity;\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(79),o(80)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Primer Simple Crop",description:"A simple crop processors for primer",vertexShader:r.default,fragmentShader:i.default,properties:{x:{type:"uniform",value:0},y:{type:"uniform",value:0},width:{type:"uniform",value:1},height:{type:"uniform",value:1}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nuniform float x;\nuniform float y;\nuniform float width;\nuniform float height;\nvarying vec2 v_texCoord;\nvarying float v_progress;\nvoid main(){\n    vec2 pos = (((v_texCoord)*vec2(width, height)) + vec2(0, 1.0-height)) +vec2(x,-y);\n    vec4 color = texture2D(u_image, pos);\n    if (pos[0] < 0.0 || pos[0] > 1.0 || pos[1] < 0.0 || pos[1] > 1.0){\n        color = vec4(0.0,0.0,0.0,0.0);\n    }\n    gl_FragColor = color;\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(82),o(83)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"dissolve",description:"A dissolve effect. Typically used as a transistion.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},blocksize:{type:"uniform",value:1}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform float blocksize;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  if (progress == 0.0) {\n      gl_FragColor = texture2D(from, p);\n      return;\n  }\n  gl_FragColor = mix(texture2D(from, p), texture2D(to, p), step(rand(floor(gl_FragCoord.xy/blocksize)), progress));\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(85),o(86)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"lookup",description:"lookup",vertexShader:r.default,fragmentShader:i.default,properties:{intensity:{type:"uniform",value:1}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 textureCoordinate;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    textureCoordinate = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nvarying highp vec2 v_texCoord;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nuniform lowp float intensity;\nvoid main()\n{\n    highp vec4 textureColor = texture2D(u_image_a, v_texCoord);\n    highp float blueColor = textureColor.b * 63.0;\n    \n    highp vec2 quad1;\n    quad1.y = floor(floor(blueColor) / 8.0);\n    quad1.x = floor(blueColor) - (quad1.y * 8.0);\n    \n    highp vec2 quad2;\n    quad2.y = floor(ceil(blueColor) / 8.0);\n    quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n    \n    highp vec2 texPos1;\n    texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);\n    texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g);\n    \n    highp vec2 texPos2;\n    texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);\n    texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g);\n    \n    lowp vec4 newColor1 = texture2D(u_image_b, texPos1);\n    lowp vec4 newColor2 = texture2D(u_image_b, texPos2);\n    \n    lowp vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n    gl_FragColor = mix(textureColor, vec4(newColor.rgb, textureColor.w), intensity);\n}"},function(e,t,o){var n,r,i;r=[e,t,o(88),o(89)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Glass Blur",description:"Glass Blur",vertexShader:r.default,fragmentShader:i.default,properties:{u_direction:{type:"uniform",value:[0,0]}},inputs:["u_image"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 textureCoordinate;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    textureCoordinate = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nvarying vec2 textureCoordinate;\nuniform sampler2D u_image;\nuniform vec2 u_direction;\nconst float maxStep = 15.0;\nvec4 getColor(sampler2D image, vec2 uv) {\n\tvec4 color = vec4(0.0);\n\tfloat weight = 0.0;\n\tfor (float step = -maxStep; step <= maxStep; step += 1.0) {\n\t\tcolor += texture2D(image, uv + u_direction * step);\n\t\tweight += 1.0;\n\t}\n\tcolor /= weight;\n\treturn color;\n}\nvoid main()\n{\n\tgl_FragColor = getColor(u_image, textureCoordinate);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(91),o(92)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"Glass Fill",description:"Glass Fill",vertexShader:r.default,fragmentShader:i.default,properties:{u_fx:{type:"uniform",value:0},u_fy:{type:"uniform",value:0},calPadding:function(e,t,o,n){var r=0,i=0;return e/t>o/n?(r=(e-t*o/n)/2/e,i=0):(r=0,i=(t-e*n/o)/2/t),{u_fx:r,u_fy:i}}},inputs:["u_image_a","u_image_b"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 textureCoordinate;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    textureCoordinate = a_texCoord;\n}"},function(e,t){e.exports="precision mediump float;\nvarying vec2 textureCoordinate;\nuniform float u_fx;\nuniform float u_fy;\nuniform sampler2D u_image_a;\nuniform sampler2D u_image_b;\nfloat getXY(float x, float fx) {\n    if (x < fx) {\n        x = x * 0.5 / fx;\n    } else if (x > 1.0 - fx) {\n        x = 1.0 - (1.0 - x) * 0.5 / fx;\n    } else {\n        x = (x - fx) / (1.0 - fx * 2.0);\n    }\n    return x;\n}\nvec4 getColorX(sampler2D image, vec2 pos) {\n    pos.x = getXY(pos.x, u_fx);\n    return texture2D(image, pos);\n}\nvec4 getColorY(sampler2D image, vec2 pos) {\n    pos.y = getXY(pos.y, u_fy);\n    return texture2D(image, pos);\n}\nvoid main()\n{\n    vec2 pos = textureCoordinate;\n    if (u_fx > 0.0) {\n        if (pos.x < u_fx || pos.x > 1.0 - u_fx) {\n            gl_FragColor = texture2D(u_image_b, pos);\n        } else {\n            gl_FragColor = getColorX(u_image_a, pos);\n        }\n    } else if (u_fy > 0.0) {\n        if (pos.y < u_fy || pos.y > 1.0 - u_fy) {\n            gl_FragColor = texture2D(u_image_b, pos);\n        } else {\n            gl_FragColor = getColorY(u_image_a, pos);\n        }\n    } else {\n        gl_FragColor = texture2D(u_image_a, pos);\n    }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(94),o(95)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"inverted page curl",description:"A inverted page curl effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nconst float MIN_AMOUNT = -0.16;\nconst float MAX_AMOUNT = 1.5;\nconst float PI = 3.141592653589793;\nconst float scale = 512.0;\nconst float sharpness = 3.0;\nconst float cylinderRadius = 1.0 / PI / 2.0;\n\nvec3 hitPoint(float hitAngle, float yc, vec3 point, mat3 rrotation)\n{\n\tfloat hitPoint = hitAngle / (2.0 * PI);\n\tpoint.y = hitPoint;\n\treturn rrotation * point;\n}\n\nvec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n{\n\tdistanc *= scale;\n\tif (distanc < 0.0) return color2;\n\tif (distanc > 2.0) return color1;\n\tfloat dd = pow(1.0 - distanc / 2.0, sharpness);\n\treturn ((color2 - color1) * dd) + color1;\n}\n\nfloat distanceToEdge(vec3 point)\n{\n\tfloat dx = abs(point.x > 0.5 ? 1.0 - point.x : point.x);\n\tfloat dy = abs(point.y > 0.5 ? 1.0 - point.y : point.y);\n\tif (point.x < 0.0) dx = -point.x;\n\tif (point.x > 1.0) dx = point.x - 1.0;\n\tif (point.y < 0.0) dy = -point.y;\n\tif (point.y > 1.0) dy = point.y - 1.0;\n\tif ((point.x < 0.0 || point.x > 1.0) && (point.y < 0.0 || point.y > 1.0)) return sqrt(dx * dx + dy * dy);\n\treturn min(dx, dy);\n}\n\nvec4 seeThrough(float yc, vec2 p, mat3 rotation, mat3 rrotation)\n{\n\tfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\tfloat cylinderAngle = 2.0 * PI * amount;\n\tfloat hitAngle = PI - (acos(yc / cylinderRadius) - cylinderAngle);\n\tvec3 point = hitPoint(hitAngle, yc, rotation * vec3(p, 1.0), rrotation);\n\tif (yc <= 0.0 && (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0))\n\t{\n        vec2 texCoord = gl_FragCoord.xy / resolution.xy;\n        return texture2D(to, texCoord);\n\t}\n\n\tif (yc > 0.0) return texture2D(from, p);\n\n\tvec4 color = texture2D(from, point.xy);\n\tvec4 tcolor = vec4(0.0);\n\n\treturn antiAlias(color, tcolor, distanceToEdge(point));\n}\n\nvec4 seeThroughWithShadow(float yc, vec2 p, vec3 point, mat3 rotation, mat3 rrotation)\n{\n\tfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\tfloat shadow = distanceToEdge(point) * 30.0;\n\tshadow = (1.0 - shadow) / 3.0;\n\n\tif (shadow < 0.0) shadow = 0.0; else shadow *= amount;\n\n\tvec4 shadowColor = seeThrough(yc, p, rotation, rrotation);\n\tshadowColor.r -= shadow;\n\tshadowColor.g -= shadow;\n\tshadowColor.b -= shadow;\n\n\treturn shadowColor;\n}\n\nvec4 backside(float yc, vec3 point)\n{\n\tvec4 color = texture2D(from, point.xy);\n\tfloat gray = (color.r + color.b + color.g) / 15.0;\n\tgray += (8.0 / 10.0) * (pow(1.0 - abs(yc / cylinderRadius), 2.0 / 10.0) / 2.0 + (5.0 / 10.0));\n\tcolor.rgb = vec3(gray);\n\treturn color;\n}\n\nvec4 behindSurface(float yc, vec3 point, mat3 rrotation)\n{\n\tfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\tfloat cylinderAngle = 2.0 * PI * amount;\n\tfloat shado = (1.0 - ((-cylinderRadius - yc) / amount * 7.0)) / 6.0;\n\tshado *= 1.0 - abs(point.x - 0.5);\n\n\tyc = (-cylinderRadius - cylinderRadius - yc);\n\n\tfloat hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n\tpoint = hitPoint(hitAngle, yc, point, rrotation);\n\n\tif (yc < 0.0 && point.x >= 0.0 && point.y >= 0.0 && point.x <= 1.0 && point.y <= 1.0 && (hitAngle < PI || amount > 0.5))\n\t{\n\t\tshado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / (71.0 / 100.0));\n\t\tshado *= pow(-yc / cylinderRadius, 3.0);\n\t\tshado *= 0.5;\n\t}\n\telse\n\t{\n\t\tshado = 0.0;\n\t}\n\t\n\tvec2 texCoord = gl_FragCoord.xy / resolution.xy;\n\n\treturn vec4(texture2D(to, texCoord).rgb - shado, 1.0);\n}\n\nvoid main()\n{\n\tfloat amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n\tfloat cylinderCenter = amount;\n\tfloat cylinderAngle = 2.0 * PI * amount;\n  vec2 texCoord = gl_FragCoord.xy / resolution.xy;\n  if (progress == 0.0) {\n      gl_FragColor = texture2D(from, texCoord);\n      return;\n  }\n  \n  const float angle = 100.0 * PI / 180.0;\n\tfloat c = cos(-angle);\n\tfloat s = sin(-angle);\n\n\tmat3 rotation = mat3( c, s, 0,\n\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t-0.801, 0.8900, 1\n\t\t\t\t\t\t\t\t);\n\tc = cos(angle);\n\ts = sin(angle);\n\n\tmat3 rrotation = mat3(\tc, s, 0,\n\t\t\t\t\t\t\t\t\t-s, c, 0,\n\t\t\t\t\t\t\t\t\t0.98500, 0.985, 1\n\t\t\t\t\t\t\t\t);\n\n\tvec3 point = rotation * vec3(texCoord, 1.0);\n\n\tfloat yc = point.y - cylinderCenter;\n\n\tif (yc < -cylinderRadius)\n\t{\n\t\tgl_FragColor = behindSurface(yc, point, rrotation);\n\t\treturn;\n\t}\n\n\tif (yc > cylinderRadius)\n\t{\n\t\tgl_FragColor = texture2D(from, texCoord);\n\t\treturn;\n\t}\n\n\tfloat hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n\n\tfloat hitAngleMod = mod(hitAngle, 2.0 * PI);\n\tif ((hitAngleMod > PI && amount < 0.5) || (hitAngleMod > PI/2.0 && amount < 0.0))\n\t{\n\t\tgl_FragColor = seeThrough(yc, texCoord, rotation, rrotation);\n\t\treturn;\n\t}\n\n\tpoint = hitPoint(hitAngle, yc, point, rrotation);\n\n\tif (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0)\n\t{\n\t\tgl_FragColor = seeThroughWithShadow(yc, texCoord, point, rotation, rrotation);\n\t\treturn;\n\t}\n\n\tvec4 color = backside(yc, point);\n\n\tvec4 otherColor;\n\tif (yc < 0.0)\n\t{\n\t\tfloat shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / 0.71);\n\t\tshado *= pow(-yc / cylinderRadius, 3.0);\n\t\tshado *= 0.5;\n\t\totherColor = vec4(0.0, 0.0, 0.0, shado);\n\t}\n\telse\n\t{\n\t\totherColor = texture2D(from, texCoord);\n\t}\n\n\tcolor = antiAlias(color, otherColor, cylinderRadius - abs(yc));\n\n\tvec4 cl = seeThroughWithShadow(yc, texCoord, point, rotation, rrotation);\n\tfloat dist = distanceToEdge(point);\n\n\tgl_FragColor = antiAlias(color, cl, dist);\n}"},function(e,t,o){var n,r,i;r=[e,t,o(97),o(98)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"luminance melt",description:"A luminance melt effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},direction:{type:"uniform",value:1},l_threshold:{type:"uniform",value:.5},above:{type:"uniform",value:0}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform bool direction;\nuniform float l_threshold;\nuniform bool above;\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,\n                      0.366025403784439,\n                     -0.577350269189626,\n                      0.024390243902439);\n\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n  vec2 i1;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n  i = mod289(i);\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nfloat luminance(vec4 color){\n  return color.r*0.299+color.g*0.587+color.b*0.114;\n}\n\nvec2 center = vec2(1.0, direction);\n\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  if (progress == 0.0) {\n    gl_FragColor = texture2D(from, p);\n  } else if (progress == 1.0) {\n    gl_FragColor = texture2D(to, p);\n  } else {\n    float x = progress;\n    float dist = distance(center, p)- progress*exp(snoise(vec2(p.x, 0.0)));\n    float r = x - rand(vec2(p.x, 0.1));\n    float m;\n    if(above){\n     m = dist <= r && luminance(texture2D(from, p))>l_threshold ? 1.0 : (progress*progress*progress);\n    }\n    else{\n     m = dist <= r && luminance(texture2D(from, p))<l_threshold ? 1.0 : (progress*progress*progress);  \n    }\n    gl_FragColor = mix(texture2D(from, p), texture2D(to, p), m);    \n  }\n}"},function(e,t,o){var n,r,i;r=[e,t,o(100),o(101)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"dreamy zoom",description:"A dreamy zoom effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},rotation:{type:"uniform",value:6},scale:{type:"uniform",value:1.2}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nconst float DEG2RAD = 0.03926990816987241548078304229099;\n\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform float rotation;\nuniform float scale;\n\nvoid main() {\n  float phase = progress < 0.5 ? progress * 2.0 : (progress - 0.5) * 2.0;\n  float angleOffset = progress < 0.5 ? mix(0.0, rotation * DEG2RAD, phase) : mix(-rotation * DEG2RAD, 0.0, phase);\n  float newScale = progress < 0.5 ? mix(1.0, scale, phase) : mix(scale, 1.0, phase);\n  \n  vec2 center = vec2(0, 0);\n  vec2 maxRes = resolution;\n  float resX = 0.5;\n  float resY = 0.5;\n  vec2 p = (gl_FragCoord.xy / maxRes - vec2(resX, resY)) / newScale;\n\n  float angle = atan(p.y, p.x) + angleOffset;\n  float dist = distance(center, p);\n  p.x = cos(angle) * dist + resX;\n  p.y = sin(angle) * dist + resY;\n  vec4 c = progress < 0.5 ? texture2D(from, p) : texture2D(to, p);\n\n  gl_FragColor = c + (progress < 0.5 ? mix(0.0, 1.0, phase) : mix(1.0, 0.0, phase));\n}"},function(e,t,o){var n,r,i;r=[e,t,o(103),o(104)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"linear blur",description:"A linear blur effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nuniform float intensity;\n\nconst int PASSES = 8;\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  vec4 c1 = vec4(0.0), c2 = vec4(0.0);\n  float disp = intensity*(0.5-distance(0.5, progress));\n  for (int xi=0; xi<PASSES; ++xi) {\n    float x = float(xi) / float(PASSES) - 0.5;\n    for (int yi=0; yi<PASSES; ++yi) {\n      float y = float(yi) / float(PASSES) - 0.5;\n      vec2 v = vec2(x,y);\n      float d = disp;\n      c1 += texture2D(from, p + d*v);\n      c2 += texture2D(to, p + d*v);\n    }\n  }\n  c1 /= float(PASSES*PASSES);\n  c2 /= float(PASSES*PASSES);\n  gl_FragColor = mix(c1, c2, progress);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(106),o(107)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"fade",description:"A fade effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  gl_FragColor = mix(texture2D(from, p, 0.0), texture2D(to, p, 0.0), progress);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(109),o(110)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"pixelize",description:"A pixelize effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() {\n  float revProgress = (1.0 - progress);\n  float distFromEdges = min(progress, revProgress);\n  float squareSize = (50.0 * distFromEdges) + 1.0;  \n  \n  vec2 p = (floor((gl_FragCoord.xy + squareSize * 0.5) / squareSize) * squareSize) / resolution.xy;\n  vec4 fromColor = texture2D(from, p);\n  vec4 toColor = texture2D(to, p);\n  \n  gl_FragColor = mix(fromColor, toColor, progress);\n}"},function(e,t,o){var n,r,i;r=[e,t,o(112),o(113)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"fade color",description:"A fade color effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},color:{type:"uniform",value:[0,0,0]},colorPhase:{type:"uniform",value:.4}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from;\nuniform sampler2D to;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec3 color;\nuniform float colorPhase; \n \nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  gl_FragColor = mix(\n    mix(vec4(color, 1.0), texture2D(from, p), smoothstep(1.0-colorPhase, 0.0, progress)),\n    mix(vec4(color, 1.0), texture2D(to,   p), smoothstep(    colorPhase, 1.0, progress)),\n    progress);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(115),o(116)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"squares wire",description:"A squares wipe effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},squares:{type:"uniform",value:[10,10]},direction:{type:"uniform",value:[1,-.4]},smoothness:{type:"uniform",value:1.6}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nuniform vec2 squares;\nuniform vec2 direction;\nuniform float smoothness;\n\nconst vec2 center = vec2(0.5, 0.5);\n\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  vec2 v = normalize(direction);\n  if (v != vec2(0.0))\n    v /= abs(v.x)+abs(v.y);\n  float d = v.x * center.x + v.y * center.y;\n  float offset = smoothness;\n  float pr = smoothstep(-offset, 0.0, v.x * p.x + v.y * p.y - (d-0.5+progress*(1.+offset)));\n  vec2 squarep = fract(p*squares);\n  vec2 squaremin = vec2(pr/2.0);\n  vec2 squaremax = vec2(1.0 - pr/2.0);\n  float a = all(lessThan(squaremin, squarep)) && all(lessThan(squarep, squaremax)) ? 1.0 : 0.0;\n  \n  const float radius = 3.0;\n  vec2 step = vec2(1.0)/resolution.xy;\n  float alpha = 1.0;\n  if (progress > 0.0 && progress < 1.0) {\n    float max_pr = smoothstep(-offset, 0.0, v.x * p.x + v.y * p.y - (d-0.5+1.0*(1.+offset)));\n    vec2 max_squaremin = vec2(max_pr/2.0);\n    vec2 max_squaremax = vec2(1.0 - max_pr/2.0);\n\n    if ( squaremax.x < max_squaremax.x ) {\n      if (squarep.x > squaremin.x && squarep.x < squaremin.x+step.x*radius) {\n        alpha = 1.0-(squaremin.x+step.x*radius - squarep.x)/(step.x*radius);\n      }\n      else if (squarep.x > (squaremax.x-step.x*radius) && squarep.x < squaremax.x) {\n        alpha = (squaremax.x - squarep.x)/(step.x*radius);\n      }\n    }\n    \n    if ( squaremax.y < max_squaremax.y ) {\n      if (squarep.y > squaremin.y && squarep.y < squaremin.y+step.y*radius) {\n        alpha = 1.0-(squaremin.y+step.y*radius - squarep.y)/(step.y*radius);\n      }\n      else if (squarep.y > (squaremax.y-step.y*radius) && squarep.y < squaremax.y) {\n        alpha = (squaremax.y - squarep.y)/(step.y*radius);\n      }\n    }\n  }\n  gl_FragColor = mix(texture2D(from, p), texture2D(to, p), a*alpha);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(118),o(119)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"burn",description:"A burn effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},color:{type:"uniform",value:[.9,.4,.2]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform vec3 color;\n\nvoid main() {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  gl_FragColor = mix(\n    texture2D(from, p) + vec4(progress*color, 1.0),\n    texture2D(to, p) + vec4((1.0-progress)*color, 1.0),\n    progress);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(121),o(122)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"cross zoom",description:"A cross zoom effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},strength:{type:"uniform",value:.4}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nuniform float strength;\n\nconst float PI = 3.141592653589793;\n\nfloat Linear_ease(in float begin, in float change, in float duration, in float time) {\n    return change * time / duration + begin;\n}\n\nfloat Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n    if (time == 0.0)\n        return begin;\n    else if (time == duration)\n        return begin + change;\n    time = time / (duration / 2.0);\n    if (time < 1.0)\n        return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n    return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n}\n\nfloat Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n    return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n}\n\nfloat random(in vec3 scale, in float seed) {\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvec3 crossFade(in vec2 uv, in float dissolve) {\n    return mix(texture2D(from, uv).rgb, texture2D(to, uv).rgb, dissolve);\n}\n\nvoid main() {\n    vec2 texCoord = gl_FragCoord.xy / resolution.xy;\n\n    vec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n    float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n\n    float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n\n    vec3 color = vec3(0.0);\n    float total = 0.0;\n    vec2 toCenter = center - texCoord;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = 0.0; t <= 40.0; t++) {\n        float percent = (t + offset) / 40.0;\n        float weight = 4.0 * (percent - percent * percent);\n        color += crossFade(texCoord + toCenter * percent * strength, dissolve) * weight;\n        total += weight;\n    }\n    gl_FragColor = vec4(color / total, 1.0);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(124),o(125)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"cross warp",description:"A cross warp effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nvoid main () {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  float x = progress;\n\n  vec4 a = texture2D(from, (p-.5)*(1.-x)+.5);\n  vec4 b = texture2D(to, (p-.5)*x+.5);\n  x=smoothstep(.0,1.0,(x*2.0+p.x-1.0));\n\n  gl_FragColor = mix(a, b, x);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(127),o(128)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"glitch memories",description:"A glitch memories effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nvoid glitch_memories(sampler2D pic) {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  vec2 block = floor(gl_FragCoord.xy / vec2(16));\n  vec2 uv_noise = block / vec2(64);\n  uv_noise += floor(vec2(progress) * vec2(1200.0, 3500.0)) / vec2(64);\n  \n  float block_thresh = pow(fract(progress * 1200.0), 2.0) * 0.2;\n  float line_thresh = pow(fract(progress * 2200.0), 3.0) * 0.7;\n  vec2 red = p, green = p, blue = p, o = p;\n  vec2 dist = (fract(uv_noise) - 0.5) * 0.3;\n  red += dist * 0.1;\n  green += dist * 0.2;\n  blue += dist * 0.125;\n  \n  gl_FragColor.r = texture2D(pic, red).r;\n  gl_FragColor.g = texture2D(pic, green).g;\n  gl_FragColor.b = texture2D(pic, blue).b;\n  gl_FragColor.a = 1.0;\n\n}\n\nvoid main(void)\n{\n  float smoothed = smoothstep(0., 1., progress);\n  if( ( smoothed < 0.4 && smoothed > 0.1) ) {\n      glitch_memories(from);\n  } else if ((smoothed > 0.6 && smoothed < 0.9) ) {\n      glitch_memories(to);\n  } else {\n    vec2 p = gl_FragCoord.xy / resolution.xy;\n    gl_FragColor = mix(texture2D(from, p), texture2D(to, p), progress);\n  }\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(130),o(131)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"window blinds",description:"A window blinds effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nvoid main () {\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  float t = progress;\n\n  if (mod(floor(uv.y*100.*progress),2.)==0.)\n    t*=2.-.5;\n\n  gl_FragColor = mix(texture2D(from, uv), texture2D(to, uv), mix(t, progress, smoothstep(0.8, 1.0, progress)));\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(133),o(134)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"window slice",description:"A window slice effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nconst float count = 10.0;\nconst float smoothness = 0.5;\n\nvoid main () {\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  float pr = smoothstep(-smoothness, 0.0, p.x - progress * (1.0 + smoothness));\n  float s = step(pr, fract(count * p.x));\n  gl_FragColor = mix(texture2D(from, p), texture2D(to, p), s);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(136),o(137)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"fade gray scale",description:"A fade gray scale effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nconst float intensity = 0.3;\n\nvec3 grayscale (vec3 color) {\n  return vec3(0.2126*color.r + 0.7152*color.g + 0.0722*color.b);\n}\n\nvoid main () {\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec4 fc = texture2D(from, uv);\n  vec4 tc = texture2D(to, uv);\n\n  gl_FragColor = mix(\n    mix(vec4(grayscale(fc.rgb), 1.0), fc, smoothstep(1.0-intensity, 0.0, progress)),\n    mix(vec4(grayscale(tc.rgb), 1.0), tc, smoothstep(    intensity, 1.0, progress)),\n    progress);\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(139),o(140)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"slide",description:"A slide effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},translateX:{type:"uniform",value:1},translateY:{type:"uniform",value:0}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform float translateX;\nuniform float translateY;\nvoid main() {\n    vec2 texCoord = gl_FragCoord.xy / resolution.xy;\n    float x = progress * translateX;\n    float y = progress * translateY;\n    if (x >= 0.0 && y >= 0.0) {\n        if (texCoord.x >= x && texCoord.y >= y) {\n            gl_FragColor = texture2D(from, texCoord - vec2(x, y));\n        }\n        else {\n            vec2 uv;\n            if (x > 0.0)\n                uv = vec2(x - 1.0, y);\n            else if (y > 0.0)\n                uv = vec2(x, y - 1.0);\n            gl_FragColor = texture2D(to, texCoord - uv);\n        }\n    }\n    else if (x <= 0.0 && y <= 0.0) {\n        if (texCoord.x <= (1.0 + x) && texCoord.y <= (1.0 + y))\n            gl_FragColor = texture2D(from, texCoord - vec2(x, y));\n        else {\n            vec2 uv;\n            if (x < 0.0)\n                uv = vec2(x + 1.0, y);\n            else if (y < 0.0)\n                uv = vec2(x, y + 1.0);\n            gl_FragColor = texture2D(to, texCoord - uv);\n        }\n    }\n    else\n        gl_FragColor = vec4(0.0);\n}"},function(e,t,o){var n,r,i;r=[e,t,o(142),o(143)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"wind",description:"A wind effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},size:{type:"uniform",value:.2}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision highp float;\n\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform float size; \n\nfloat rand (vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  float r = rand(vec2(0, uv.y));\n  float m = smoothstep(0.0, -size, uv.x*(1.0-size) + size*r - (progress * (1.0 + size)));\n  gl_FragColor = mix(\n    texture2D(from, uv),\n    texture2D(to, uv),\n    m\n  );\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(145),o(146)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"color phase",description:"A color phase effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},fromStep:{type:"uniform",value:[0,.2,.4,0]},toStep:{type:"uniform",value:[.6,.8,1,1]}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\n\nuniform vec4 fromStep;\nuniform vec4 toStep;\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n  vec4 a = texture2D(from, uv);\n  vec4 b = texture2D(to, uv);\n  gl_FragColor = mix(a, b, smoothstep(fromStep, toStep, vec4(progress)));\n}\n"},function(e,t,o){var n,r,i;r=[e,t,o(148),o(149)],void 0===(i="function"==typeof(n=function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(o),i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var s={title:"stereo viewer",description:"A stereo viewer effect. Typically used as a transition.",vertexShader:r.default,fragmentShader:i.default,properties:{progress:{type:"uniform",value:0},resolution:{type:"uniform",value:[480,270]},zoom:{type:"uniform",value:.88},corner_radius:{type:"uniform",value:.22}},inputs:["from","to"]};t.default=s,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D from, to;\nuniform float progress;\nuniform vec2 resolution;\nuniform float zoom;\nuniform float corner_radius;\n\nconst vec4 black = vec4(0.0, 0.0, 0.0, 1.0);\nconst vec2 c00 = vec2(0.0, 0.0);\nconst vec2 c01 = vec2(0.0, 1.0);\nconst vec2 c11 = vec2(1.0, 1.0);\nconst vec2 c10 = vec2(1.0, 0.0);\n\nbool in_corner(vec2 p, vec2 corner, vec2 radius) {\n  vec2 axis = (c11 - corner) - corner;\n  p = p - (corner + axis * radius);\n  p *= axis / radius;\n  return (p.x > 0.0 && p.y > -1.0) || (p.y > 0.0 && p.x > -1.0) || dot(p, p) < 1.0;\n}\n\nbool test_rounded_mask(vec2 p, vec2 corner_size) {\n  return\n      in_corner(p, c00, corner_size) &&\n      in_corner(p, c01, corner_size) &&\n      in_corner(p, c10, corner_size) &&\n      in_corner(p, c11, corner_size);\n}\n\nfloat dis_corner(vec2 p, vec2 corner, vec2 radius) {\n  vec2 axis = (c11 - corner) - corner;\n  p = p - (corner + axis * radius);\n  p *= axis / radius;\n\n  const float blur = 16.0;\n  vec2 step = vec2(1.0)/resolution;\n  float sblur = min(step.x, step.y)*blur;\n  float alpha = ((p.x > 0.0 && p.y > -1.0) || (p.y > 0.0 && p.x > -1.0) || dot(p, p) < 1.0)?1.0:-1.0;\n  if (p.x > 0.0 && p.y > -1.0 && p.y < -(1.0-sblur)) {\n    alpha = (1.0 + p.y)/sblur;\n  }\n\n  if (p.y > 0.0 && p.x > -1.0 && p.x < -(1.0-sblur)) {\n    alpha = (1.0 + p.x)/(sblur);\n  }\n\n  const float PI = 3.14159265358979323846;\n\n  float d = dot(p, p);\n  float m = sblur/1.41421356;\n  float angle = atan(p.y, p.x);\n  if (d < 1.0 && d > (1.0-m) && angle < -PI/2.0) {\n    alpha = (1.0-d)/m;\n  }\n\n  return alpha;\n}\n\nfloat test_rounded(vec2 p, vec2 corner_size) {\n      float alpha0 = dis_corner(p, c00, corner_size);\n      float alpha1 = dis_corner(p, c01, corner_size);\n      float alpha2 = dis_corner(p, c10, corner_size);\n      float alpha3 = dis_corner(p, c11, corner_size);\n      if (alpha0 < 0.0 || alpha1 < 0.0 || alpha2 < 0.0 || alpha3 < 0.0) {\n        return -1.0;\n      }\n\n      return alpha0*alpha1*alpha2*alpha3;\n}\n\nvec4 screen(vec4 a, vec4 b) {\n  return 1.0 - (1.0 - a) * (1.0 -b);\n}\n\nvec4 unscreen(vec4 c) {\n  return 1.0 - sqrt(1.0 - c);\n}\n\nvec4 sample_with_corners(sampler2D tex, vec2 p, vec2 corner_size) {\n  p = (p - 0.5) / zoom + 0.5;\n  \n  float alpha = test_rounded(p, corner_size);\n  if (alpha < 0.0) {\n    return black;\n  }\n  vec4 color = mix(black, texture2D(tex, p), alpha);\n  return unscreen(color);\n}\n\nvec4 simple_sample_with_corners(sampler2D tex, vec2 p, vec2 corner_size, float zoom_amt) {\n  p = (p - 0.5) / (1.0 - zoom_amt + zoom * zoom_amt) + 0.5;\n  \n  float alpha = test_rounded(p, corner_size);\n  if (alpha < 0.0) {\n    return black;\n  }\n  return mix(black, texture2D(tex, p), alpha);\n}\n\nmat3 rotate2d(float angle, float aspect) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat3(\n    c, s ,0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0);\n}\n\nmat3 translate2d(float x, float y) {\n  return mat3(\n    1.0, 0.0, 0,\n    0.0, 1.0, 0,\n    -x, -y, 1.0);\n}\n\nmat3 scale2d(float x, float y) {\n  return mat3(\n    x, 0.0, 0,\n    0.0, y, 0,\n    0, 0, 1.0);\n}\n\nvec4 get_cross_rotated(vec3 p3, float angle, vec2 corner_size, float aspect) {\n  angle = angle * angle;\n  angle /= 2.4;\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, aspect);\n  mat3 unscale_and_uncenter = scale2d(1.0, 1.0/aspect) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, aspect);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  vec4 a = sample_with_corners(from, (op_a * p3).xy, corner_size);\n  vec4 b = sample_with_corners(from, (op_b * p3).xy, corner_size);\n\n  return screen(a, b);\n}\n\nvec4 get_cross_masked(vec3 p3, float angle, vec2 corner_size, float aspect) {\n  angle = 1.0 - angle;\n  angle = angle * angle;\n  angle /= 2.4;\n\n  vec4 img;\n\n  mat3 center_and_scale = translate2d(-0.5, -0.5) * scale2d(1.0, aspect);\n  mat3 unscale_and_uncenter = scale2d(1.0 / zoom, 1.0 / (zoom * aspect)) * translate2d(0.5,0.5);\n  mat3 slide_left = translate2d(-2.0,0.0);\n  mat3 slide_right = translate2d(2.0,0.0);\n  mat3 rotate = rotate2d(angle, aspect);\n\n  mat3 op_a = center_and_scale * slide_right * rotate * slide_left * unscale_and_uncenter;\n  mat3 op_b = center_and_scale * slide_left * rotate * slide_right * unscale_and_uncenter;\n\n  float alpha_a = test_rounded((op_a * p3).xy, corner_size);\n  float alpha_b = test_rounded((op_b * p3).xy, corner_size);\n  if (alpha_a > 0.0 || alpha_b > 0.0) {\n    img = sample_with_corners(to, p3.xy, corner_size);\n    vec4 color = screen(alpha_a > 0.0 ? mix(black, img, alpha_a) : black, alpha_b > 0.0 ? mix(black, img, alpha_b) : black);\n    return color;\n  }\n  else {\n    return black;\n  }\n}\n\nvoid main() {\n  float a;\n  vec2 p = gl_FragCoord.xy / resolution.xy;\n  vec3 p3 = vec3(p.xy, 1.0); \n\n  float aspect = resolution.x / resolution.y;\n  vec2 corner_size = vec2(corner_radius / aspect, corner_radius);\n\n  if (progress <= 0.0) {\n    gl_FragColor = texture2D(from, p);\n  } else if (progress < 0.1) {\n    a = progress / 0.1;\n    gl_FragColor = simple_sample_with_corners(from, p, corner_size * a, a);\n  } else if (progress < 0.48) {\n    a = (progress - 0.1)/0.38;\n    gl_FragColor = get_cross_rotated(p3, a, corner_size, aspect);\n  } else if (progress < 0.9) {\n    gl_FragColor = get_cross_masked(p3, (progress - 0.52)/0.38, corner_size, aspect);\n  } else if (progress < 1.0) {\n    a = (1.0 - progress) / 0.1;\n    gl_FragColor = simple_sample_with_corners(to, p, corner_size * a, a);\n  } else {\n    gl_FragColor = texture2D(to, p);\n  }\n}"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying float v_progress;\nvoid main(){\n    gl_FragColor = texture2D(u_image, v_texCoord);\n}\n"},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\nvoid main() {\n    gl_Position = vec4(vec2(2.0,2.0)*a_position-vec2(1.0, 1.0), 0.0, 1.0);\n    v_texCoord = a_texCoord;\n}\n"},function(e,t,o){var n,r,i;r=[t,o(6)],void 0===(i="function"==typeof(n=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AUDIOTYPE=void 0;var o,n=(o=t)&&o.__esModule?o:{default:o},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i="AudioNode",a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._displayName=i,e._elementType="audio",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"_update",value:function(e){(function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_update",this).call(this,e,!1)}}]),t}(n.default);e.AUDIOTYPE=i,e.default=a})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(10)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.connections=[]}return n(e,[{key:"getOutputsForNode",value:function(e){var t=[];return this.connections.forEach(function(o){o.source===e&&t.push(o.destination)}),t}},{key:"getNamedInputsForNode",value:function(e){var t=[];return this.connections.forEach(function(o){o.destination===e&&"name"===o.type&&t.push(o)}),t}},{key:"getZIndexInputsForNode",value:function(e){var t=[];return this.connections.forEach(function(o){o.destination===e&&"zIndex"===o.type&&t.push(o)}),t.sort(function(e,t){return e.zIndex-t.zIndex}),t}},{key:"getInputsForNode",value:function(e){var t=e.inputNames,o=[],n=this.getNamedInputsForNode(e),r=this.getZIndexInputsForNode(e);if(!0===e._limitConnections){for(var i=0;i<t.length;i++)o[i]=void 0;var a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value,f=t.indexOf(p.name);o[f]=p.source}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}for(var d=0,v=0;v<o.length;v++)void 0===o[v]&&void 0!==r[d]&&(o[v]=r[d].source,d+=1)}else{var _=!0,m=!1,h=void 0;try{for(var y,g=n[Symbol.iterator]();!(_=(y=g.next()).done);_=!0){var x=y.value;o.push(x.source)}}catch(e){m=!0,h=e}finally{try{!_&&g.return&&g.return()}finally{if(m)throw h}}var b=!0,C=!1,T=void 0;try{for(var E,S=r[Symbol.iterator]();!(b=(E=S.next()).done);b=!0){var O=E.value;o.push(O.source)}}catch(e){C=!0,T=e}finally{try{!b&&S.return&&S.return()}finally{if(C)throw T}}}return o}},{key:"isInputAvailable",value:function(e,t){if(-1===e._inputNames.indexOf(t))return!1;var o=!0,n=!1,r=void 0;try{for(var i,a=this.connections[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;if("name"===s.type&&s.destination===e&&s.name===t)return!1}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}return!0}},{key:"registerConnection",value:function(e,t,n){if(t.inputs.length>=t.inputNames.length&&!0===t._limitConnections)throw new o.ConnectException("Node has reached max number of inputs, can't connect");if(!1===t._limitConnections){var r=this.getInputsForNode(t);r.includes(e)&&(console.debug("WARNING - node connected mutliple times, removing previous connection"),this.unregisterConnection(e,t))}if("number"==typeof n)this.connections.push({source:e,type:"zIndex",zIndex:n,destination:t});else if("string"==typeof n&&t._limitConnections){if(!this.isInputAvailable(t,n))throw new o.ConnectException("Port "+n+" is already connected to");this.connections.push({source:e,type:"name",name:n,destination:t})}else{var i=this.getZIndexInputsForNode(t),a=0;i.length>0&&(a=i[i.length-1].zIndex+1),this.connections.push({source:e,type:"zIndex",zIndex:a,destination:t})}return!0}},{key:"unregisterConnection",value:function(e,t){var o=this,n=[];return this.connections.forEach(function(o){o.source===e&&o.destination===t&&n.push(o)}),0!==n.length&&(n.forEach(function(e){var t=o.connections.indexOf(e);o.connections.splice(t,1)}),!0)}}],[{key:"outputEdgesFor",value:function(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u.source===e&&o.push(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}},{key:"inputEdgesFor",value:function(e,t){var o=[],n=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u.destination===e&&o.push(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return o}},{key:"getInputlessNodes",value:function(e){var t=[],o=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;t.push(s.source)}}catch(e){n=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw r}}var u=!0,l=!1,c=void 0;try{for(var p,f=e[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var d=p.value,v=t.indexOf(d.destination);-1!==v&&t.splice(v,1)}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return t}}]),e}();t.default=r,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)},function(e,t,o){var n,r,i;r=[e,t,o(0)],void 0===(i="function"==typeof(n=function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elements=[],this._elementsInitialised=!1;for(var o=0;o<t;o++){var n=this._createElement();this._elements.push(n)}}return n(e,[{key:"_createElement",value:function(){var e=document.createElement("video");return e.setAttribute("crossorigin","anonymous"),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),e}},{key:"init",value:function(){if(!this._elementsInitialised){var e=function(e){try{e.play().then(function(){e.pause()},function(e){if("NotSupportedError"!==e.name)throw e})}catch(e){}},t=!0,o=!1,n=void 0;try{for(var r,i=this._elements[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;e(a)}}catch(e){o=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(o)throw n}}}this._elementsInitialised=!0}},{key:"get",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._elements[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;if(!(0,o.mediaElementHasSource)(a))return a}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}console.debug("No available video element in the cache, creating a new one. This may break mobile, make your initial cache larger.");var s=this._createElement();return this._elements.push(s),this._elementsInitialised=!1,s}},{key:"length",get:function(){return this._elements.length}},{key:"unused",get:function(){var e=0,t=!0,n=!1,r=void 0;try{for(var i,a=this._elements[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;(0,o.mediaElementHasSource)(s)||(e+=1)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}}]),e}();t.default=r,e.exports=t.default})?n.apply(t,r):n)||(e.exports=i)}]);
//# sourceMappingURL=videocontext.commonjs2.js.map